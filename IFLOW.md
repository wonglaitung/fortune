# iFlow ä¸Šä¸‹æ–‡

## âš ï¸ é‡è¦è­¦å‘Š

> **ðŸ“– ç¼–ç¨‹æŠ€èƒ½è§„èŒƒ**ï¼šè¯¦ç»†çš„ç¼–ç è§„èŒƒå’Œå¼€å‘æµç¨‹è¯·å‚è§ [`.iflow/commands/programmer_skill.md`](.iflow/commands/programmer_skill.md)ï¼ŒåŒ…æ‹¬"ä¿®æ”¹å®Œå³æµ‹è¯•"ç­‰æ ¸å¿ƒåŽŸåˆ™ã€‚

**æœ¬é¡¹ç›®ä¸¥æ ¼éµå®ˆä»¥ä¸‹åŽŸåˆ™ï¼š**
- ä¿®æ”¹å®Œå³æµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡å†ç»§ç»­
- ä¼˜å…ˆæ£€æŸ¥æ˜¯å¦å·²æœ‰å®žçŽ°
- å…¬å…±ä»£ç æå–ä¼˜å…ˆ
- é¿å…å†…è”é‡å¤é€»è¾‘

## âš ï¸ æœºå™¨å­¦ä¹ æ¨¡åž‹éªŒè¯è­¦å‘Š

> **ðŸ”´ é«˜å‡†ç¡®çŽ‡ä¸ä¸€å®šæ„å‘³ç€å¥½æ¨¡åž‹ï¼Œå¿…é¡»ä¸¥æ ¼éªŒè¯æ•°æ®æ³„æ¼**
>
> åœ¨æ—¶é—´åºåˆ—é¢„æµ‹ä¸­ï¼Œé«˜å‡†ç¡®çŽ‡ï¼ˆ>65%ï¼‰é€šå¸¸æ˜¯æ•°æ®æ³„æ¼çš„ä¿¡å·ï¼š
> - æ£€æŸ¥æ•°æ®åˆå¹¶æ—¶æ˜¯å¦ä½¿ç”¨äº† `ignore_index=True`
> - ç¡®ä¿æ—¥æœŸç´¢å¼•è¢«ä¿ç•™ï¼Œæ•°æ®æŒ‰æ—¶é—´é¡ºåºæŽ’åˆ—
> - éªŒè¯æ—¶é—´åºåˆ—äº¤å‰éªŒè¯æ˜¯å¦ä¸¥æ ¼æŒ‰æ—¶é—´é¡ºåºåˆ†å‰²
> - å¯¹æ¯”ç®€å•åŸºçº¿ï¼ˆæ’å®šé¢„æµ‹ã€åŠ¨é‡ç­–ç•¥ï¼‰çš„å‡†ç¡®çŽ‡
>
> **å‚è€ƒæ€§èŒƒå›´ï¼ˆç»éªŒå€¼ï¼‰ï¼š**
> - éšæœº/å¹³è¡¡äºŒåˆ†ç±»åŸºçº¿ï¼šâ‰ˆ50%
> - å¸¸è§å¼±ä¿¡å·ï¼ˆç®€å•åŠ¨é‡/åŸºå‡†æ¨¡åž‹ï¼‰ï¼šâ‰ˆ51â€“55%
> - æœ‰æ„ä¹‰çš„æ”¹è¿›/å¯äº¤æ˜“è¾¹é™…ï¼šâ‰ˆ55â€“60%
> - éžå¸¸å¥½/ç½•è§ï¼šâ‰ˆ60â€“65%
> - å¼‚å¸¸é«˜ï¼ˆéœ€æ€€ç–‘ï¼‰ï¼š>65%

## ç¼–ç è§„èŒƒ

> **ðŸ“– å‚è€ƒæ–‡æ¡£**ï¼šè¯¦ç»†çš„ç¼–ç¨‹æŠ€èƒ½è§„èŒƒè¯·å‚è§ [`.iflow/commands/programmer_skill.md`](.iflow/commands/programmer_skill.md)

æœ¬é¡¹ç›®éµå¾ªä»¥ä¸‹æ ¸å¿ƒç¼–ç åŽŸåˆ™ï¼š

1. **ðŸ”´ ä¿®æ”¹å®Œå³æµ‹è¯•ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰** - æ¯æ¬¡ä¿®æ”¹åŽç«‹å³éªŒè¯
   - ä½¿ç”¨ `python3 -m py_compile` è¿›è¡Œè¯­æ³•æ£€æŸ¥
   - éªŒè¯ä¿®æ”¹çš„åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸ
   - **åªæœ‰æµ‹è¯•é€šè¿‡åŽï¼Œæ‰èƒ½ç»§ç»­ä¸‹ä¸€æ­¥**

2. **ä¼˜å…ˆæ£€æŸ¥æ˜¯å¦å·²æœ‰å®žçŽ°** - æœç´¢é¡¹ç›®ä¸­æ˜¯å¦å·²æœ‰ç±»ä¼¼åŠŸèƒ½
3. **å…¬å…±ä»£ç æå–ä¼˜å…ˆ** - å…ˆæ–°å¢žå…¬å…±å‡½æ•°ï¼Œå†åœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨
4. **é¿å…å†…è”é‡å¤é€»è¾‘** - ä¸¥ç¦å¤åˆ¶ç²˜è´´ç›¸åŒæˆ–ç›¸ä¼¼çš„ä»£ç 
5. **éœ€æ±‚åˆ†æžä¼˜å…ˆ** - æ·±å…¥ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œä¸è¦æ€¥äºŽç¼–ç 
6. **æ•´ä½“è®¾è®¡æ€ç»´** - è€ƒè™‘æ”¹åŠ¨å¯¹æ•´ä¸ªç³»ç»Ÿçš„å½±å“
7. **é¿å…ç¡¬ç¼–ç è·¯å¾„** - ä½¿ç”¨ç›¸å¯¹è·¯å¾„åŸºäºŽè„šæœ¬ç›®å½•æž„å»ºè·¯å¾„
   - **åäºŒè¦ç´ åº”ç”¨åŽŸåˆ™**ï¼šé…ç½®åº”è¯¥å¤–åŒ–ï¼Œä¸åº”ç¡¬ç¼–ç 
   - **è·¨çŽ¯å¢ƒå…¼å®¹æ€§**ï¼šä»£ç åº”èƒ½åœ¨ä¸åŒçŽ¯å¢ƒä¸­è¿è¡Œï¼Œä¸ä¾èµ–ç‰¹å®šè·¯å¾„
   - **ä½¿ç”¨ç›¸å¯¹è·¯å¾„**ï¼šåŸºäºŽè„šæœ¬æ‰€åœ¨ç›®å½•æž„å»ºè·¯å¾„ï¼Œè€Œéžç»å¯¹è·¯å¾„
   - **æ­£ç¡®åšæ³•**ï¼š`script_dir = os.path.dirname(os.path.abspath(__file__)); data_dir = os.path.join(script_dir, 'data')`

## ç›®å½•æ¦‚è§ˆ

æ­¤ç›®å½• (`/data/fortune`) æ˜¯ä¸€ä¸ª Python é¡¹ç›®ï¼ŒåŒ…å«å¤šä¸ªé‡‘èžä¿¡æ¯èŽ·å–ã€åˆ†æžå’Œæ¨¡æ‹Ÿäº¤æ˜“åŠŸèƒ½ï¼š

1. åŠ å¯†è´§å¸ä»·æ ¼ç›‘æŽ§ï¼ˆé€šè¿‡ GitHub Actions è‡ªåŠ¨å‘é€é‚®ä»¶ï¼‰
2. æ¸¯è‚¡ IPO ä¿¡æ¯èŽ·å–ï¼ˆçˆ¬å– AAStocks ç½‘ç«™ï¼‰
3. æ¸¯è‚¡ä¸»åŠ›èµ„é‡‘è¿½è¸ªå™¨ï¼ˆè¯†åˆ«å»ºä»“å’Œå‡ºè´§ä¿¡å·ï¼‰
4. åŸºäºŽå¤§æ¨¡åž‹çš„æ¸¯è‚¡æ¨¡æ‹Ÿäº¤æ˜“ç³»ç»Ÿ
5. æ‰¹é‡èŽ·å–è‡ªé€‰è‚¡æ–°é—»
6. é»„é‡‘å¸‚åœºåˆ†æžå™¨
7. æ’ç”ŸæŒ‡æ•°å¤§æ¨¡åž‹ç­–ç•¥åˆ†æžå™¨
8. æ’ç”ŸæŒ‡æ•°ä»·æ ¼ç›‘æŽ§å™¨ï¼ˆå«è‚¡æ¯ä¿¡æ¯ã€åŸºæœ¬é¢ã€ä¸­æœŸè¯„ä¼°æŒ‡æ ‡ï¼‰
9. é€šç”¨æŠ€æœ¯åˆ†æžå·¥å…·ï¼ˆå«ä¸­æœŸåˆ†æžæŒ‡æ ‡ç³»ç»Ÿï¼‰
10. æ¸¯è‚¡åŸºæœ¬é¢æ•°æ®èŽ·å–å™¨
11. AI äº¤æ˜“ç›ˆåˆ©èƒ½åŠ›åˆ†æžå™¨
12. **æœºå™¨å­¦ä¹ äº¤æ˜“æ¨¡åž‹**ï¼ˆLightGBMã€GBDTã€CatBoost ä¸‰æ¨¡åž‹ï¼Œæ”¯æŒ 1/5/20 å¤©é¢„æµ‹ï¼‰
13. **æ¨¡åž‹èžåˆåŠŸèƒ½**ï¼ˆç®€å•å¹³å‡ã€åŠ æƒå¹³å‡ã€æŠ•ç¥¨æœºåˆ¶ï¼‰
14. **ç¾Žè‚¡å¸‚åœºæ•°æ®èŽ·å–**ï¼ˆæ ‡æ™®500ã€çº³æ–¯è¾¾å…‹ã€VIXã€ç¾Žå›½å›½å€ºæ”¶ç›ŠçŽ‡ï¼‰
15. **æ¸¯è‚¡æ¿å—åˆ†æžæ¨¡å—**ï¼ˆæ¿å—æ¶¨è·Œå¹…æŽ’åã€æŠ€æœ¯è¶‹åŠ¿åˆ†æžã€é¾™å¤´è¯†åˆ«ï¼‰
16. **æ¿å—è½®åŠ¨æ²³æµå›¾ç”Ÿæˆå·¥å…·**ï¼ˆå¯è§†åŒ–æ¿å—è½®åŠ¨è§„å¾‹ï¼‰
17. **å¤§æ¨¡åž‹å»ºè®®ä¿å­˜åŠŸèƒ½**ï¼ˆè‡ªåŠ¨ä¿å­˜çŸ­æœŸå’Œä¸­æœŸå»ºè®®åˆ°æ–‡æœ¬æ–‡ä»¶ï¼‰
18. **MLé¢„æµ‹ç»“æžœä¿å­˜åŠŸèƒ½**ï¼ˆè‡ªåŠ¨ä¿å­˜20å¤©é¢„æµ‹ç»“æžœåˆ°æ–‡æœ¬æ–‡ä»¶ï¼‰
19. **ç»¼åˆåˆ†æžç³»ç»Ÿ**ï¼ˆæ•´åˆå¤§æ¨¡åž‹å»ºè®®å’ŒMLèžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœï¼Œç”Ÿæˆå®žè´¨ä¹°å–å»ºè®®ï¼‰

## å…³é”®æ–‡ä»¶

### æ ¸å¿ƒè„šæœ¬ï¼ˆ11ä¸ªï¼‰
| æ–‡ä»¶ | è¯´æ˜Ž |
|------|------|
| `config.py` | å…¨å±€é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«è‡ªé€‰è‚¡åˆ—è¡¨ï¼ˆ28åªè‚¡ç¥¨ï¼‰ |
| `hk_smart_money_tracker.py` | æ¸¯è‚¡ä¸»åŠ›èµ„é‡‘è¿½è¸ªå™¨ |
| `hsi_email.py` | æ’ç”ŸæŒ‡æ•°ä»·æ ¼ç›‘æŽ§å™¨ï¼Œå«å¤§æ¨¡åž‹å»ºè®®ä¿å­˜ã€--no-emailå‚æ•° |
| `hsi_llm_strategy.py` | æ’ç”ŸæŒ‡æ•°å¤§æ¨¡åž‹ç­–ç•¥åˆ†æžå™¨ |
| `simulation_trader.py` | åŸºäºŽå¤§æ¨¡åž‹çš„æ¸¯è‚¡æ¨¡æ‹Ÿäº¤æ˜“ç³»ç»Ÿ |
| `ai_trading_analyzer.py` | AI äº¤æ˜“ç›ˆåˆ©èƒ½åŠ›åˆ†æžå™¨ |
| `crypto_email.py` | åŠ å¯†è´§å¸ä»·æ ¼ç›‘æŽ§å™¨ |
| `gold_analyzer.py` | é»„é‡‘å¸‚åœºåˆ†æžå™¨ |
| `hk_ipo_aastocks.py` | æ¸¯è‚¡ IPO ä¿¡æ¯èŽ·å–å™¨ |
| `generate_sector_rotation_river_plot.py` | æ¿å—è½®åŠ¨æ²³æµå›¾ç”Ÿæˆå·¥å…· |
| **`comprehensive_analysis.py`** | **ç»¼åˆåˆ†æžè„šæœ¬ï¼Œæ•´åˆå¤§æ¨¡åž‹å»ºè®®å’ŒMLèžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœ** |

### æ•°æ®æœåŠ¡æ¨¡å— (`data_services/`)
| æ–‡ä»¶ | è¯´æ˜Ž |
|------|------|
| `hk_sector_analysis.py` | æ¸¯è‚¡æ¿å—åˆ†æžæ¨¡å— |
| `technical_analysis.py` | é€šç”¨æŠ€æœ¯åˆ†æžå·¥å…· |
| `fundamental_data.py` | æ¸¯è‚¡åŸºæœ¬é¢æ•°æ®èŽ·å–å™¨ |
| `tencent_finance.py` | è…¾è®¯è´¢ç»æ•°æ®æŽ¥å£ |
| `batch_stock_news_fetcher.py` | æ‰¹é‡èŽ·å–è‡ªé€‰è‚¡æ–°é—» |

### æœºå™¨å­¦ä¹ æ¨¡å— (`ml_services/`)
| æ–‡ä»¶ | è¯´æ˜Ž |
|------|------|
| `ml_trading_model.py` | æœºå™¨å­¦ä¹ äº¤æ˜“æ¨¡åž‹ï¼Œå«LightGBMã€GBDTã€CatBoostå’Œèžåˆæ¨¡åž‹ |
| `ml_prediction_email.py` | æœºå™¨å­¦ä¹ é¢„æµ‹é‚®ä»¶å‘é€å™¨ |
| `us_market_data.py` | ç¾Žè‚¡å¸‚åœºæ•°æ®èŽ·å–æ¨¡å— |
| `base_model_processor.py` | æ¨¡åž‹å¤„ç†å™¨åŸºç±» |
| `compare_models.py` | æ¨¡åž‹å¯¹æ¯”å·¥å…· |
| `test_regularization.py` | æ­£åˆ™åŒ–ç­–ç•¥éªŒè¯è„šæœ¬ |
| `feature_selection.py` | **ç‰¹å¾é€‰æ‹©æ¨¡å—ï¼ˆF-test+äº’ä¿¡æ¯æ··åˆæ–¹æ³•ï¼‰** |
| `topic_modeling.py` | **LDAä¸»é¢˜å»ºæ¨¡æ¨¡å—ï¼ˆæ”¯æŒä¸­è‹±æ–‡æ··åˆè¯­æ–™ï¼‰** |
| `backtest_evaluator.py` | **å›žæµ‹è¯„ä¼°æ¨¡å—ï¼ŒéªŒè¯æ¨¡åž‹ç›ˆåˆ©èƒ½åŠ›** |
| `CATBOOST_USAGE.md` | **CatBoostæ¨¡åž‹ä½¿ç”¨æŒ‡å—** |
| `BACKTEST_GUIDE.md` | **å›žæµ‹åŠŸèƒ½ä½¿ç”¨æŒ‡å—** |

### å¤§æ¨¡åž‹æœåŠ¡æ¨¡å— (`llm_services/`)
| æ–‡ä»¶ | è¯´æ˜Ž |
|------|------|
| `qwen_engine.py` | å¤§æ¨¡åž‹æœåŠ¡æŽ¥å£ |
| `sentiment_analyzer.py` | æƒ…æ„Ÿåˆ†æžæ¨¡å—ï¼ˆå››ç»´æƒ…æ„Ÿè¯„åˆ†ï¼‰ |

### é…ç½®æ–‡ä»¶ï¼ˆ6ä¸ªï¼‰
| æ–‡ä»¶ | è¯´æ˜Ž |
|------|------|
| `requirements.txt` | é¡¹ç›®ä¾èµ–åŒ…åˆ—è¡¨ï¼ˆå«catboostï¼‰ |
| `train_and_predict_all.sh` | å®Œæ•´è®­ç»ƒå’Œé¢„æµ‹è„šæœ¬ï¼ˆ1å¤©ã€5å¤©ã€20å¤©ï¼‰ |
| **`run_comprehensive_analysis.sh`** | **ç»¼åˆåˆ†æžè‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¯æ—¥æ‰§è¡Œï¼Œå«CatBoostè®­ç»ƒå’Œèžåˆæ¨¡åž‹é¢„æµ‹ï¼‰** |
| `send_alert.sh` | æœ¬åœ°å®šæ—¶æ‰§è¡Œè„šæœ¬ |
| `update_data.sh` | æ•°æ®æ›´æ–°è„šæœ¬ |
| `set_key.sh` | çŽ¯å¢ƒå˜é‡é…ç½®è„šæœ¬ |

### GitHub Actions å·¥ä½œæµ (`.github/workflows/`)
| æ–‡ä»¶ | è¯´æ˜Ž | æ‰§è¡Œæ—¶é—´ |
|------|------|----------|
| `smart-money-alert.yml` | ä¸»åŠ›èµ„é‡‘è¿½è¸ª | æ¯å¤© UTC 22:00 |
| `hsi-email-alert-open_message.yml` | **ç»¼åˆåˆ†æžé‚®ä»¶** | **å‘¨ä¸€åˆ°å‘¨äº” UTC 8:00ï¼ˆé¦™æ¸¯æ—¶é—´ä¸‹åˆ4:00ï¼‰** |
| `crypto-alert.yml` | åŠ å¯†è´§å¸ä»·æ ¼ | æ¯å°æ—¶ |
| `gold-analyzer.yml` | é»„é‡‘å¸‚åœºåˆ†æž | æ¯å°æ—¶ |
| `ipo-alert.yml` | IPO ä¿¡æ¯ | æ¯å¤© UTC 2:00 |
| `ai-trading-analysis-daily.yml` | AI äº¤æ˜“åˆ†æž | å‘¨ä¸€åˆ°å‘¨äº” UTC 8:30 |

## é¡¹ç›®ç±»åž‹

Python è„šæœ¬é¡¹ç›®ï¼Œä½¿ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨åŒ–è°ƒåº¦ï¼ŒåŒ…å«æ•°æ®åˆ†æžã€å¯è§†åŒ–å’Œå¤§æ¨¡åž‹é›†æˆåŠŸèƒ½ã€‚

## ä¾èµ–é¡¹

```
yfinance, requests, pandas, numpy, akshare, matplotlib,
beautifulsoup4, openpyxl, scipy, schedule, markdown,
lightgbm, catboost, scikit-learn, jieba>=0.42.1, nltk>=3.8
```

**æ–°å¢žä¾èµ–**ï¼š
- `catboost>=1.2.0`ï¼šCatBoost æ¢¯åº¦æå‡åº“

## ä¸»è¦åŠŸèƒ½

### æ¸¯è‚¡ä¸»åŠ›èµ„é‡‘è¿½è¸ª
- æ‰¹é‡æ‰«æè‡ªé€‰è‚¡ï¼Œåˆ†æžå»ºä»“å’Œå‡ºè´§ä¿¡å·
- é‡‡ç”¨ä¸šç•Œæ ‡å‡† 0-5 å±‚åˆ†æžæ¡†æž¶
- æ”¯æŒåŠ¨æ€æŠ•èµ„è€…ç±»åž‹ï¼ˆè¿›å–åž‹/ç¨³å¥åž‹/ä¿å®ˆåž‹ï¼‰
- é›†æˆ ML æ¨¡åž‹å…³é”®æŒ‡æ ‡ï¼ˆVIX_Levelã€æˆäº¤é¢å˜åŒ–çŽ‡ã€æ¢æ‰‹çŽ‡å˜åŒ–çŽ‡ï¼‰
- é›†æˆæ–°é—»åˆ†æžå’Œæ¿å—åˆ†æžæ•°æ®

### æ¸¯è‚¡æ¿å—åˆ†æž
- åˆ†æž 16 ä¸ªæ¿å—ï¼ˆé“¶è¡Œã€ç§‘æŠ€ã€åŠå¯¼ä½“ã€AIã€æ–°èƒ½æºç­‰ï¼‰
- ä¸šç•Œæ ‡å‡† MVP æ¨¡åž‹è¯†åˆ«é¾™å¤´è‚¡
- æ”¯æŒå¤šå‘¨æœŸåˆ†æžï¼ˆ1æ—¥/5æ—¥/20æ—¥ï¼‰
- æ”¯æŒæŠ•èµ„é£Žæ ¼é…ç½®

### æ¿å—è½®åŠ¨æ²³æµå›¾
- å¯è§†åŒ–å±•ç¤ºè¿‡åŽ»ä¸€å¹´æ¿å—æŽ’åå˜åŒ–
- å«æ’ç”ŸæŒ‡æ•°å¯¹æ¯”
- ç”Ÿæˆæ²³æµå›¾å’Œçƒ­åŠ›å›¾
- è¾“å‡ºæ–‡ä»¶ï¼š`output/sector_rotation_river_plot.png`

### æ’ç”ŸæŒ‡æ•°ä»·æ ¼ç›‘æŽ§å™¨
- æŠ€æœ¯åˆ†æžæŒ‡æ ‡ï¼ˆRSIã€MACDã€å¸ƒæž—å¸¦ã€ATR ç­‰ï¼‰
- åŸºæœ¬é¢æŒ‡æ ‡ï¼ˆPEã€PBï¼‰
- ä¸­æœŸè¯„ä¼°æŒ‡æ ‡ï¼ˆå‡çº¿æŽ’åˆ—ã€ä¹–ç¦»çŽ‡ã€æ”¯æ’‘é˜»åŠ›ä½ç­‰ï¼‰
- è‚¡æ¯ä¿¡æ¯è¿½è¸ª
- **å¤§æ¨¡åž‹å»ºè®®è‡ªåŠ¨ä¿å­˜**ï¼šçŸ­æœŸå’Œä¸­æœŸå»ºè®®ä¿å­˜åˆ° `data/llm_recommendations_YYYY-MM-DD.txt`
- **--no-email å‚æ•°**ï¼šæ”¯æŒç¦ç”¨é‚®ä»¶å‘é€ï¼Œä»…ç”Ÿæˆåˆ†æžæŠ¥å‘Š

### æœºå™¨å­¦ä¹ äº¤æ˜“æ¨¡åž‹

#### æ”¯æŒçš„ç®—æ³•
- **LightGBM**ï¼šè½»é‡çº§æ¢¯åº¦æå‡æ¡†æž¶
- **GBDT**ï¼šçº¯æ¢¯åº¦æå‡å†³ç­–æ ‘ï¼ˆå·²é‡æž„ï¼Œç§»é™¤GBDT+LRä¸¤å±‚ç»“æž„ï¼‰
- **CatBoost**ï¼šYandex å¼€å‘çš„æ¢¯åº¦æå‡åº“ï¼ˆ2026-02-20 æ–°å¢žï¼‰
- **Ensemble**ï¼šä¸‰æ¨¡åž‹èžåˆï¼ˆLightGBM + GBDT + CatBoostï¼Œ2026-02-20 æ–°å¢žï¼‰

#### æ¨¡åž‹èžåˆåŠŸèƒ½ï¼ˆ2026-02-20 æ–°å¢žï¼‰
- **èžåˆæ–¹æ³•**ï¼š
  - ç®€å•å¹³å‡ï¼ˆsimpleï¼‰ï¼šä¸‰ä¸ªæ¨¡åž‹çš„é¢„æµ‹æ¦‚çŽ‡å–å¹³å‡å€¼
  - åŠ æƒå¹³å‡ï¼ˆweightedï¼‰ï¼šåŸºäºŽæ¨¡åž‹å‡†ç¡®çŽ‡è‡ªåŠ¨åˆ†é…æƒé‡
  - æŠ•ç¥¨æœºåˆ¶ï¼ˆvotingï¼‰ï¼šå¤šæ•°æŠ•ç¥¨å†³å®šæœ€ç»ˆé¢„æµ‹æ–¹å‘
- **ç½®ä¿¡åº¦è¯„ä¼°**ï¼š
  - é«˜ç½®ä¿¡åº¦ï¼šfused_probability > 0.62
  - ä¸­ç­‰ç½®ä¿¡åº¦ï¼š0.50 < fused_probability â‰¤ 0.62
  - ä½Žç½®ä¿¡åº¦ï¼šfused_probability â‰¤ 0.50
- **ä¸€è‡´æ€§è¯„ä¼°**ï¼š
  - 100% ä¸€è‡´ï¼šä¸‰ä¸ªæ¨¡åž‹é¢„æµ‹ç›¸åŒ
  - 67% ä¸€è‡´ï¼šä¸¤ä¸ªæ¨¡åž‹é¢„æµ‹ç›¸åŒ
  - 33% ä¸€è‡´ï¼šä¸‰ä¸ªæ¨¡åž‹é¢„æµ‹éƒ½ä¸åŒ
- **èžåˆä¼˜åŠ¿**ï¼š
  - é™ä½Žé¢„æµ‹æ–¹å·® 15-20%
  - æå‡æ¨¡åž‹ç¨³å®šæ€§
  - å¢žå¼ºé¢„æµ‹å¯ä¿¡åº¦

#### ç‰¹å¾å·¥ç¨‹
- **ç‰¹å¾æ•°é‡**ï¼š500ä¸ªç²¾é€‰ç‰¹å¾ï¼ˆF-test+äº’ä¿¡æ¯æ··åˆæ–¹æ³•ï¼Œä»Ž2991ä¸ªç‰¹å¾ä¸­ç­›é€‰ï¼‰
- **é¢„æµ‹å‘¨æœŸ**ï¼š1å¤©ã€5å¤©ã€20å¤©
- **ç‰¹å¾ç±»åˆ«**ï¼š
  - æ»šåŠ¨ç»Ÿè®¡ç‰¹å¾ï¼ˆååº¦ã€å³°åº¦ã€å¤šå‘¨æœŸæ³¢åŠ¨çŽ‡ï¼‰
  - ä»·æ ¼å½¢æ€ç‰¹å¾ï¼ˆæ—¥å†…æŒ¯å¹…ã€å½±çº¿æ¯”ä¾‹ã€ç¼ºå£ï¼‰
  - é‡ä»·å…³ç³»ç‰¹å¾ï¼ˆèƒŒç¦»ã€OBVã€æˆäº¤é‡æ³¢åŠ¨çŽ‡ï¼‰
  - é•¿æœŸè¶‹åŠ¿ç‰¹å¾ï¼ˆMA120/250ã€é•¿æœŸæ”¶ç›ŠçŽ‡ã€é•¿æœŸæ³¢åŠ¨çŽ‡ã€é•¿æœŸATRã€é•¿æœŸæˆäº¤é‡ã€é•¿æœŸæ”¯æ’‘é˜»åŠ›ä½ã€é•¿æœŸRSIï¼‰
  - ä¸»é¢˜åˆ†å¸ƒç‰¹å¾ï¼ˆLDAä¸»é¢˜å»ºæ¨¡ï¼Œ10ä¸ªä¸»é¢˜æ¦‚çŽ‡åˆ†å¸ƒï¼‰
  - ä¸»é¢˜æƒ…æ„Ÿäº¤äº’ç‰¹å¾ï¼ˆ10ä¸ªä¸»é¢˜ Ã— 5ä¸ªæƒ…æ„ŸæŒ‡æ ‡ = 50ä¸ªäº¤äº’ç‰¹å¾ï¼‰
  - é¢„æœŸå·®è·ç‰¹å¾ï¼ˆæ–°é—»æƒ…æ„Ÿç›¸å¯¹äºŽå¸‚åœºé¢„æœŸçš„å·®è·ï¼Œ5ä¸ªç‰¹å¾ï¼‰

#### æ¨¡åž‹æ€§èƒ½ï¼ˆ2026-02-20 æœ€æ–°ï¼‰

**å•æ¨¡åž‹æ€§èƒ½**ï¼š
- **LightGBM 20å¤©**ï¼šå‡†ç¡®çŽ‡ 60.16%ï¼ˆÂ±4.92%ï¼‰
- **GBDT 20å¤©**ï¼šå‡†ç¡®çŽ‡ 59.97%ï¼ˆÂ±4.76%ï¼‰
- **CatBoost 20å¤©**ï¼šå‡†ç¡®çŽ‡ 61.57%ï¼ˆÂ±1.77%ï¼‰â­ **å½“å‰æœ€ä½³**

**CatBoost æ¨¡åž‹ä¼˜åŠ¿**ï¼ˆ2026-02-20 æ–°å¢žï¼‰ï¼š
- è‡ªåŠ¨å¤„ç†åˆ†ç±»ç‰¹å¾ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–ç 
- æ›´å¥½çš„é»˜è®¤å‚æ•°ï¼Œå‡å°‘è°ƒå‚å·¥ä½œé‡
- æ›´å¿«çš„è®­ç»ƒé€Ÿåº¦ï¼Œæ”¯æŒ GPU åŠ é€Ÿ
- æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ï¼Œå‡å°‘è¿‡æ‹Ÿåˆ
- ç¨³å®šæ€§æ˜¾è‘—æå‡ï¼ˆÂ±1.77% vs LightGBM Â±4.92%ï¼‰

**èžåˆæ¨¡åž‹æ€§èƒ½**ï¼š
- ç®€å•å¹³å‡ï¼šå‡†ç¡®çŽ‡ ~61.5%ï¼ˆÂ±1.5%ï¼‰
- åŠ æƒå¹³å‡ï¼šå‡†ç¡®çŽ‡ ~61.8%ï¼ˆÂ±1.3%ï¼‰â­ **æŽ¨è**
- æŠ•ç¥¨æœºåˆ¶ï¼šå‡†ç¡®çŽ‡ ~61.2%ï¼ˆÂ±1.6%ï¼‰

#### è¶…å¢žå¼ºæ­£åˆ™åŒ–é…ç½®
- **LightGBM ä¸€ä¸ªæœˆæ¨¡åž‹**ï¼šreg_alpha=0.25, reg_lambda=0.25
- **GBDT ä¸€ä¸ªæœˆæ¨¡åž‹**ï¼šreg_alpha=0.22, reg_lambda=0.22
- **CatBoost ä¸€ä¸ªæœˆæ¨¡åž‹**ï¼šl2_leaf_reg=3, depth=7, learning_rate=0.05

#### ç‰¹å¾é€‰æ‹©ä¼˜åŒ–ï¼ˆ2026-02-16ï¼‰
- ç»Ÿä¸€ç­–ç•¥ï¼šLightGBMã€GBDTã€CatBoost éƒ½ä½¿ç”¨ 500 ä¸ªç²¾é€‰ç‰¹å¾
- F-test+äº’ä¿¡æ¯æ··åˆæ–¹æ³•
- ç‰¹å¾å‡å°‘ 83%ï¼Œè®­ç»ƒé€Ÿåº¦æå‡ 5-6 å€

#### GBDT æ¨¡åž‹é‡æž„ï¼ˆ2026-02-17ï¼‰
- ç§»é™¤ GBDT+LR ä¸¤å±‚ç»“æž„ï¼Œæ”¹ä¸ºçº¯ GBDT æ¨¡åž‹
- å‡†ç¡®çŽ‡æå‡ 3.21%ï¼ˆ57.48% â†’ 60.69%ï¼‰
- ç¨³å®šæ€§æå‡ 40.6%ï¼ˆÂ±8.42% â†’ Â±5.00%ï¼‰
- ä»£ç å¤æ‚åº¦é™ä½Ž 15.2%ï¼ˆ~500è¡Œä»£ç ï¼‰

#### åŠ¨æ€å‡†ç¡®çŽ‡åŠ è½½ï¼ˆ2026-02-17ï¼‰
- è®­ç»ƒæ—¶è‡ªåŠ¨ä¿å­˜å‡†ç¡®çŽ‡åˆ° `data/model_accuracy.json`
- ç»¼åˆåˆ†æžè„šæœ¬è‡ªåŠ¨è¯»å–å¹¶ä½¿ç”¨æœ€æ–°å‡†ç¡®çŽ‡
- æ”¯æŒä¸åŒé¢„æµ‹å‘¨æœŸï¼ˆ1å¤©ã€5å¤©ã€20å¤©ï¼‰çš„å‡†ç¡®çŽ‡ç®¡ç†
- åŒ…å« LightGBMã€GBDTã€CatBoost ä¸‰ç§æ¨¡åž‹çš„å‡†ç¡®çŽ‡

#### é¢„æµ‹ç»“æžœä¿å­˜
- èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœä¿å­˜åˆ° `data/ml_trading_model_ensemble_predictions_20d.csv`
- å•æ¨¡åž‹é¢„æµ‹ç»“æžœä¿å­˜åˆ° `data/ml_trading_model_{model_type}_predictions_{horizon}d.csv`
- åŒ…å«ï¼šèžåˆé¢„æµ‹ã€èžåˆæ¦‚çŽ‡ã€ç½®ä¿¡åº¦ã€ä¸€è‡´æ€§ã€å„æ¨¡åž‹é¢„æµ‹ç»“æžœ

#### å›žæµ‹è¯„ä¼°åŠŸèƒ½ï¼ˆ2026-02-18ï¼‰
- éªŒè¯æ¨¡åž‹åœ¨çœŸå®žäº¤æ˜“ä¸­çš„ç›ˆåˆ©èƒ½åŠ›
- å…³é”®æŒ‡æ ‡ï¼šå¤æ™®æ¯”çŽ‡ã€ç´¢æè¯ºæ¯”çŽ‡ã€æœ€å¤§å›žæ’¤ã€èƒœçŽ‡ã€ä¿¡æ¯æ¯”çŽ‡
- äº¤æ˜“ç­–ç•¥ï¼šå½“é¢„æµ‹æ¦‚çŽ‡ > 0.55 æ—¶å…¨ä»“ä¹°å…¥ï¼Œå¦åˆ™æ¸…ä»“å–å‡º
- åŸºå‡†å¯¹æ¯”ï¼šä¹°å…¥æŒæœ‰ç­–ç•¥
- éšæœºè‚¡ç¥¨é€‰æ‹©ï¼šä»Žæµ‹è¯•é›†ä¸­éšæœºé€‰æ‹©ä¸€åªè‚¡ç¥¨è¿›è¡Œå›žæµ‹
- è‚¡ç¥¨ä¿¡æ¯è®°å½•ï¼šåœ¨å›žæµ‹ç»“æžœä¸­è®°å½•è‚¡ç¥¨ä»£ç ã€å›žæµ‹ç­–ç•¥ã€é€‰æ‹©æ–¹æ³•ç­‰
- å¯è§†åŒ–è¾“å‡ºï¼šç»„åˆä»·å€¼å¯¹æ¯”ã€æ”¶ç›ŠçŽ‡åˆ†å¸ƒã€å›žæ’¤æ›²çº¿ã€å…³é”®æŒ‡æ ‡å¯¹æ¯”
- å›žæµ‹ç»“æžœä¿å­˜åˆ° `output/backtest_results_{horizon}d_{timestamp}.png` å’Œ `.json`

#### å›žæµ‹æµ‹è¯•ç»“æžœï¼ˆ2026-02-18ï¼‰
- **LightGBM æ¨¡åž‹**ï¼šæ€»æ”¶ç›ŠçŽ‡ 60.58%ï¼Œå¤æ™®æ¯”çŽ‡ 1.35ï¼Œæœ€å¤§å›žæ’¤ -17.03%ï¼Œè¯„çº§ â­â­â­â­â­
- **GBDT æ¨¡åž‹**ï¼šæ€»æ”¶ç›ŠçŽ‡ 135.46%ï¼Œå¤æ™®æ¯”çŽ‡ 2.06ï¼Œæœ€å¤§å›žæ’¤ -17.90%ï¼Œè¯„çº§ â­â­â­â­â­

### æ¨¡æ‹Ÿäº¤æ˜“ç³»ç»Ÿ
- åŸºäºŽå¤§æ¨¡åž‹åˆ†æžçš„æ¨¡æ‹Ÿäº¤æ˜“
- æ”¯æŒä¸‰ç§æŠ•èµ„è€…ç±»åž‹
- æ­¢æŸæœºåˆ¶
- äº¤æ˜“è®°å½•è‡ªåŠ¨ä¿å­˜

### ç»¼åˆåˆ†æžç³»ç»Ÿï¼ˆæ¯æ—¥è‡ªåŠ¨æ‰§è¡Œï¼‰

**åŠŸèƒ½è¯´æ˜Ž**ï¼šæ•´åˆå¤§æ¨¡åž‹å»ºè®®ï¼ˆçŸ­æœŸå’Œä¸­æœŸï¼‰ä¸Ž ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœï¼ˆ20å¤©ï¼‰ï¼Œè¿›è¡Œç»¼åˆå¯¹æ¯”åˆ†æžï¼Œç”Ÿæˆå®žè´¨çš„ä¹°å–å»ºè®®

**æ‰§è¡Œæµç¨‹**ï¼š
1. è¿è¡Œç‰¹å¾é€‰æ‹©ï¼ˆç”Ÿæˆ 500 ä¸ªç²¾é€‰ç‰¹å¾ï¼‰
2. è°ƒç”¨ `hsi_email.py --force --no-email` ç”Ÿæˆå¤§æ¨¡åž‹å»ºè®®ï¼ˆä¸å‘é€é‚®ä»¶ï¼‰
3. è®­ç»ƒ 20 å¤© ML æ¨¡åž‹ï¼ˆLightGBMã€GBDTã€CatBoostï¼‰
4. ç”Ÿæˆ 20 å¤©èžåˆæ¨¡åž‹é¢„æµ‹ï¼ˆåŠ æƒå¹³å‡ï¼‰
5. æå–å¤§æ¨¡åž‹å»ºè®®ä¸­çš„ä¹°å–ä¿¡æ¯ï¼ˆåŒ…å«æŽ¨èç†ç”±ã€æ“ä½œå»ºè®®ã€ä»·æ ¼æŒ‡å¼•ã€é£Žé™©æç¤ºï¼‰
6. æå– ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœä¸­çš„ä¸Šæ¶¨æ¦‚çŽ‡ä¿¡æ¯
7. æäº¤ç»™å¤§æ¨¡åž‹è¿›è¡Œç»¼åˆåˆ†æž
8. ç”Ÿæˆè¯¦ç»†çš„ç»¼åˆä¹°å–å»ºè®®ï¼ŒåŒ…å«ï¼š
   - å¼ºçƒˆä¹°å…¥ä¿¡å·ï¼ˆ2-3åªï¼‰
   - ä¹°å…¥ä¿¡å·ï¼ˆ3-5åªï¼‰
   - æŒæœ‰/è§‚æœ›
   - å–å‡ºä¿¡å·ï¼ˆå¦‚æœ‰ï¼‰
   - é£Žé™©æŽ§åˆ¶å»ºè®®
9. å‘é€é‚®ä»¶é€šçŸ¥ï¼ŒåŒ…å«å®Œæ•´ä¿¡æ¯å‚è€ƒç« èŠ‚

**è¿è¡Œæ–¹å¼**ï¼š
```bash
# ä¸€é”®æ‰§è¡Œå®Œæ•´æµç¨‹
./run_comprehensive_analysis.sh

# æˆ–æ‰‹åŠ¨æ‰§è¡Œå„æ­¥éª¤
python3 hsi_email.py --force --no-email
python3 ml_services/ml_trading_model.py --mode train --horizon 20 --model-type lgbm --use-feature-selection
python3 ml_services/ml_trading_model.py --mode train --horizon 20 --model-type gbdt --use-feature-selection
python3 ml_services/ml_trading_model.py --mode train --horizon 20 --model-type catboost --use-feature-selection
python3 ml_services/ml_trading_model.py --mode predict --horizon 20 --model-type ensemble --fusion-method weighted
python3 comprehensive_analysis.py
python3 comprehensive_analysis.py --no-email  # ä¸å‘é€é‚®ä»¶
```

**è¾“å‡ºæ–‡ä»¶**ï¼š
- `data/llm_recommendations_YYYY-MM-DD.txt`ï¼šå¤§æ¨¡åž‹å»ºè®®ï¼ˆçŸ­æœŸå’Œä¸­æœŸï¼‰
- `data/ml_trading_model_ensemble_predictions_20d.csv`ï¼šML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœ
- `data/comprehensive_recommendations_YYYY-MM-DD.txt`ï¼šç»¼åˆä¹°å–å»ºè®®

**é‚®ä»¶å†…å®¹**ï¼ˆ9ä¸ªç« èŠ‚ï¼‰ï¼š
1. **# ç»¼åˆä¹°å–å»ºè®®**ï¼ˆå¼ºçƒˆä¹°å…¥ã€ä¹°å…¥ã€æŒæœ‰/è§‚æœ›ã€å–å‡ºä¿¡å·ï¼‰
2. **## ä¸€ã€å¤§æ¨¡åž‹å»ºè®®**ï¼ˆçŸ­æœŸå’Œä¸­æœŸä¹°å–å»ºè®®ï¼‰
3. **## äºŒã€æœºå™¨å­¦ä¹ é¢„æµ‹ç»“æžœï¼ˆ20å¤©ï¼‰**ï¼ˆèžåˆæ¨¡åž‹ï¼Œæ˜¾ç¤ºå…¨éƒ¨28åªè‚¡ç¥¨åŠé¢„æµ‹æ–¹å‘ï¼‰
4. **## ä¸‰ã€æ¿å—åˆ†æžï¼ˆ5æ—¥æ¶¨è·Œå¹…æŽ’åï¼‰**ï¼ˆ16ä¸ªæ¿å—æŽ’åã€é¾™å¤´è‚¡TOP 3ï¼‰
5. **## å››ã€è‚¡æ¯ä¿¡æ¯ï¼ˆå³å°†é™¤å‡€ï¼‰**ï¼ˆå‰10åªå³å°†é™¤å‡€çš„æ¸¯è‚¡ï¼‰
6. **## äº”ã€æ’ç”ŸæŒ‡æ•°æŠ€æœ¯åˆ†æž**ï¼ˆå½“å‰ä»·æ ¼ã€RSIã€MA20ã€MA50ã€è¶‹åŠ¿åˆ¤æ–­ï¼‰
7. **## å…­ã€æŽ¨èè‚¡ç¥¨æŠ€æœ¯æŒ‡æ ‡è¯¦æƒ…**ï¼ˆ11ä¸ªæŠ€æœ¯æŒ‡æ ‡è¡¨æ ¼ï¼‰
8. **## ä¸ƒã€æŠ€æœ¯æŒ‡æ ‡è¯´æ˜Ž**ï¼ˆçŸ­æœŸã€ä¸­æœŸæŠ€æœ¯æŒ‡æ ‡è¯´æ˜Žï¼‰
9. **## å…«ã€é£Žé™©æç¤º**ï¼ˆæ¨¡åž‹ä¸ç¡®å®šæ€§ã€å¸‚åœºé£Žé™©ã€æŠ•èµ„åŽŸåˆ™ï¼‰
10. **## ä¹ã€æ•°æ®æ¥æº**ï¼ˆ11ä¸ªæ•°æ®æºè¯´æ˜Žï¼‰

**ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœå±•ç¤ºä¼˜åŒ–ï¼ˆ2026-02-20ï¼‰**ï¼š
- æ˜¾ç¤ºå…¨éƒ¨ 28 åªè‚¡ç¥¨çš„èžåˆé¢„æµ‹ç»“æžœ
- æ·»åŠ "èžåˆé¢„æµ‹"æ ä½ï¼Œæ ‡æ³¨æ¯åªè‚¡ç¥¨çš„é¢„æµ‹æ–¹å‘ï¼ˆä¸Šæ¶¨/ä¸‹è·Œï¼‰
- æ·»åŠ "ç½®ä¿¡åº¦"æ ä½ï¼Œæ ‡æ³¨é«˜/ä¸­/ä½Žç½®ä¿¡åº¦
- æ·»åŠ "ä¸€è‡´æ€§"æ ä½ï¼Œæ ‡æ³¨ä¸‰æ¨¡åž‹ä¸€è‡´æ€§ï¼ˆ100%/67%/33%ï¼‰
- èžåˆæ¦‚çŽ‡åˆ†ç±»ï¼š
  - **é«˜ç½®ä¿¡åº¦ä¸Šæ¶¨**ï¼šfused_probability > 0.62
  - **ä¸­ç­‰ç½®ä¿¡åº¦**ï¼š0.50 < fused_probability â‰¤ 0.62
  - **é¢„æµ‹ä¸‹è·Œ**ï¼šfused_probability â‰¤ 0.50
- è¡¨æ ¼æ ¼å¼ï¼š| è‚¡ç¥¨ä»£ç  | è‚¡ç¥¨åç§° | èžåˆé¢„æµ‹ | èžåˆæ¦‚çŽ‡ | ç½®ä¿¡åº¦ | ä¸€è‡´æ€§ | å½“å‰ä»·æ ¼ |
- ç»Ÿè®¡ä¿¡æ¯ï¼šé«˜ç½®ä¿¡åº¦ä¸Šæ¶¨æ•°é‡ã€ä¸­ç­‰ç½®ä¿¡åº¦æ•°é‡ã€é¢„æµ‹ä¸‹è·Œæ•°é‡ã€æ¨¡åž‹ä¸€è‡´æ€§åˆ†å¸ƒ
- å¤§æ¨¡åž‹å¯ä»¥æ ¹æ®å…¨éƒ¨ 28 åªè‚¡ç¥¨çš„æ•°æ®è¿›è¡Œæ›´ç»¼åˆçš„åˆ¤æ–­

**è‡ªåŠ¨åŒ–è°ƒåº¦**ï¼š
- GitHub Actions å·¥ä½œæµï¼š`hsi-email-alert-open_message.yml`
- æ‰§è¡Œæ—¶é—´ï¼šå‘¨ä¸€åˆ°å‘¨äº” UTC 08:00ï¼ˆé¦™æ¸¯æ—¶é—´ä¸‹åˆ 4:00ï¼‰
- æ”¯æŒæ‰‹åŠ¨è§¦å‘

## é…ç½®å‚æ•°

### è‡ªé€‰è‚¡é…ç½®ï¼ˆ28åªï¼‰
åœ¨ `config.py` ä¸­é…ç½®ï¼š
- é“¶è¡Œç±»ï¼š0005.HKã€0939.HKã€1288.HKã€1398.HKã€3968.HK
- ç§‘æŠ€ç±»ï¼š0700.HKã€1810.HKã€3690.HKã€9988.HK
- åŠå¯¼ä½“ï¼š0981.HKã€1347.HK
- AIï¼š2533.HKã€6682.HKã€9660.HK
- èƒ½æºï¼š0883.HKã€1088.HK
- æˆ¿åœ°äº§ï¼š0012.HKã€0016.HKã€1109.HK
- å…¶ä»–ï¼š0388.HKã€0728.HKã€0941.HKã€1138.HKã€1211.HKã€1299.HKã€1330.HKã€2269.HKã€2800.HK

**âš ï¸ é‡è¦é…ç½®è¯´æ˜Žï¼ˆæ–°å¢žè‚¡ç¥¨æ—¶å¿…è¯»ï¼‰**ï¼š

å¦‚æžœåœ¨ `config.py` ä¸­å¢žåŠ æ–°çš„è‚¡ç¥¨ä»£ç ï¼Œå¿…é¡»åŒæ—¶åœ¨ `ml_services/ml_trading_model.py` çš„ `create_stock_type_features` æ–¹æ³•ä¸­è¡¥å……è‚¡ç¥¨ç±»åž‹ä¿¡æ¯ï¼š

1. **åœ¨ `stock_type_mapping` å­—å…¸ä¸­æ·»åŠ è‚¡ç¥¨ç±»åž‹**ï¼š
   ```python
   'è‚¡ç¥¨ä»£ç .HK': {'type': 'ç±»åž‹', 'name': 'è‚¡ç¥¨åç§°', 'defensive': XX, 'growth': XX, 'cyclical': XX, 'liquidity': XX, 'risk': XX},
   ```
   - **type**: è‚¡ç¥¨ç±»åž‹ï¼ˆbank/tech/utility/semiconductor/ai/energy/shipping/exchange/insurance/biotech/new_energy/environmental/real_estate/indexï¼‰
   - **defensive**: é˜²å¾¡æ€§è¯„åˆ†ï¼ˆ0-100ï¼‰
   - **growth**: æˆé•¿æ€§è¯„åˆ†ï¼ˆ0-100ï¼‰
   - **cyclical**: å‘¨æœŸæ€§è¯„åˆ†ï¼ˆ0-100ï¼‰
   - **liquidity**: æµåŠ¨æ€§è¯„åˆ†ï¼ˆ0-100ï¼‰
   - **risk**: é£Žé™©è¯„åˆ†ï¼ˆ0-100ï¼‰

2. **åœ¨ `stock_info_mapping` å­—å…¸ä¸­æ·»åŠ ç›¸åŒçš„è‚¡ç¥¨ç±»åž‹ä¿¡æ¯**

3. **åœ¨è¡ç”Ÿç‰¹å¾æƒé‡éƒ¨åˆ†æ·»åŠ è¯¥è‚¡ç¥¨ç±»åž‹çš„æƒé‡ç‰¹å¾**

**å¦‚æžœä¸é…ç½®è‚¡ç¥¨ç±»åž‹ä¿¡æ¯ï¼Œä¼šå‡ºçŽ°"âš ï¸ æœªæ‰¾åˆ°è‚¡ç¥¨ XXXX.HK çš„ç±»åž‹ä¿¡æ¯"è­¦å‘Šï¼Œå¹¶ä¸”è¯¥è‚¡ç¥¨å°†æ— æ³•ç”Ÿæˆè‚¡ç¥¨ç±»åž‹ç›¸å…³ç‰¹å¾ã€‚**

### æŠ•èµ„è€…ç±»åž‹
- `aggressive`ï¼šè¿›å–åž‹ï¼Œå…³æ³¨åŠ¨é‡
- `moderate`ï¼šç¨³å¥åž‹ï¼Œå¹³è¡¡åˆ†æž
- `conservative`ï¼šä¿å®ˆåž‹ï¼Œå…³æ³¨åŸºæœ¬é¢

## è¿è¡Œå‘½ä»¤

### å¸¸ç”¨å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# ä¸»åŠ›èµ„é‡‘è¿½è¸ªï¼ˆé»˜è®¤ç¨³å¥åž‹ï¼‰
python hk_smart_money_tracker.py
python hk_smart_money_tracker.py --investor-type aggressive
python hk_smart_money_tracker.py --date 2025-10-25

# æ’ç”ŸæŒ‡æ•°ç›‘æŽ§ï¼ˆè‡ªåŠ¨ä¿å­˜å¤§æ¨¡åž‹å»ºè®®ï¼Œå¯é€‰ä¸å‘é€é‚®ä»¶ï¼‰
python hsi_email.py
python hsi_email.py --date 2025-10-25
python hsi_email.py --no-email  # ä»…ç”ŸæˆæŠ¥å‘Šï¼Œä¸å‘é€é‚®ä»¶

# æ¿å—åˆ†æž
python data_services/hk_sector_analysis.py --period 5 --style moderate

# æ¿å—è½®åŠ¨æ²³æµå›¾
python generate_sector_rotation_river_plot.py

# ML æ¨¡åž‹è®­ç»ƒå’Œé¢„æµ‹
./train_and_predict_all.sh

# è®­ç»ƒå•ä¸ªæ¨¡åž‹
python ml_services/ml_trading_model.py --mode train --horizon 1 --model-type lgbm
python ml_services/ml_trading_model.py --mode train --horizon 20 --model-type gbdt --use-feature-selection
python ml_services/ml_trading_model.py --mode train --horizon 20 --model-type catboost --use-feature-selection

# ç”Ÿæˆèžåˆæ¨¡åž‹é¢„æµ‹
python ml_services/ml_trading_model.py --mode predict --horizon 20 --model-type ensemble --fusion-method weighted
python ml_services/ml_trading_model.py --mode predict --horizon 20 --model-type ensemble --fusion-method simple
python ml_services/ml_trading_model.py --mode predict --horizon 20 --model-type ensemble --fusion-method voting

# ML æ¨¡åž‹å›žæµ‹ï¼ˆéªŒè¯ç›ˆåˆ©èƒ½åŠ›ï¼‰
python ml_services/ml_trading_model.py --mode backtest --horizon 20 --model-type lgbm --use-feature-selection
python ml_services/ml_trading_model.py --mode backtest --horizon 20 --model-type gbdt --use-feature-selection
python ml_services/ml_trading_model.py --mode backtest --horizon 20 --model-type catboost --use-feature-selection

# æ¨¡æ‹Ÿäº¤æ˜“
python simulation_trader.py --investor-type moderate

# AI äº¤æ˜“åˆ†æž
python ai_trading_analyzer.py --start-date 2026-01-05 --end-date 2026-01-05

# é»„é‡‘åˆ†æž
python gold_analyzer.py

# åŠ å¯†è´§å¸ç›‘æŽ§
python crypto_email.py

# ç»¼åˆåˆ†æžï¼ˆä¸€é”®æ‰§è¡Œï¼Œæ¯æ—¥è‡ªåŠ¨è¿è¡Œï¼‰
./run_comprehensive_analysis.sh
python comprehensive_analysis.py
python comprehensive_analysis.py --no-email  # ä¸å‘é€é‚®ä»¶
```

## é¡¹ç›®æž¶æž„

```
é‡‘èžä¿¡æ¯ç›‘æŽ§ä¸Žæ™ºèƒ½äº¤æ˜“ç³»ç»Ÿ
â”œâ”€â”€ æ•°æ®èŽ·å–å±‚
â”‚   â”œâ”€â”€ åŠ å¯†è´§å¸ä»·æ ¼ç›‘æŽ§å™¨ (crypto_email.py)
â”‚   â”œâ”€â”€ æ¸¯è‚¡IPOä¿¡æ¯èŽ·å–å™¨ (hk_ipo_aastocks.py)
â”‚   â”œâ”€â”€ é»„é‡‘å¸‚åœºåˆ†æžå™¨ (gold_analyzer.py)
â”‚   â”œâ”€â”€ ç¾Žè‚¡å¸‚åœºæ•°æ®èŽ·å–å™¨ (ml_services/us_market_data.py)
â”‚   â””â”€â”€ è…¾è®¯è´¢ç»æ•°æ®æŽ¥å£ (data_services/tencent_finance.py)
â”œâ”€â”€ æ•°æ®æœåŠ¡å±‚ (data_services/)
â”‚   â”œâ”€â”€ åŸºæœ¬é¢æ•°æ®èŽ·å–å™¨ (fundamental_data.py)
â”‚   â”œâ”€â”€ æ‰¹é‡èŽ·å–è‡ªé€‰è‚¡æ–°é—» (batch_stock_news_fetcher.py)
â”‚   â”œâ”€â”€ æ¸¯è‚¡æ¿å—åˆ†æžå™¨ (hk_sector_analysis.py)
â”‚   â”œâ”€â”€ é€šç”¨æŠ€æœ¯åˆ†æžå·¥å…· (technical_analysis.py)
â”‚   â””â”€â”€ è…¾è®¯è´¢ç»æ•°æ®æŽ¥å£ (tencent_finance.py)
â”œâ”€â”€ åˆ†æžå±‚
â”‚   â”œâ”€â”€ æ¸¯è‚¡ä¸»åŠ›èµ„é‡‘è¿½è¸ªå™¨ (hk_smart_money_tracker.py)
â”‚   â”œâ”€â”€ æ’ç”ŸæŒ‡æ•°å¤§æ¨¡åž‹ç­–ç•¥åˆ†æžå™¨ (hsi_llm_strategy.py)
â”‚   â”œâ”€â”€ æ’ç”ŸæŒ‡æ•°ä»·æ ¼ç›‘æŽ§å™¨ (hsi_email.py)
â”‚   â”‚   â””â”€â”€ å¤§æ¨¡åž‹å»ºè®®ä¿å­˜åŠŸèƒ½ (save_llm_recommendations)
â”‚   â”‚   â””â”€â”€ --no-email å‚æ•°ï¼ˆç¦ç”¨é‚®ä»¶å‘é€ï¼‰
â”‚   â”œâ”€â”€ AIäº¤æ˜“ç›ˆåˆ©èƒ½åŠ›åˆ†æžå™¨ (ai_trading_analyzer.py)
â”‚   â”œâ”€â”€ **ç»¼åˆåˆ†æžè„šæœ¬** (comprehensive_analysis.py)
â”‚   â”‚   â”œâ”€â”€ åŠ¨æ€å‡†ç¡®çŽ‡åŠ è½½ï¼ˆload_model_accuracyï¼Œå«CatBoostï¼‰
â”‚   â”‚   â”œâ”€â”€ æ¿å—åˆ†æžæ•°æ®èŽ·å–ï¼ˆget_sector_analysisï¼‰
â”‚   â”‚   â”œâ”€â”€ è‚¡æ¯ä¿¡æ¯èŽ·å–ï¼ˆget_dividend_infoï¼‰
â”‚   â”‚   â”œâ”€â”€ æ’ç”ŸæŒ‡æ•°åˆ†æžï¼ˆget_hsi_analysisï¼‰
â”‚   â”‚   â”œâ”€â”€ æŠ€æœ¯æŒ‡æ ‡è¯¦æƒ…ï¼ˆget_stock_technical_indicatorsï¼‰
â”‚   â”‚   â”œâ”€â”€ æå–å¤§æ¨¡åž‹å»ºè®®ï¼ˆextract_llm_recommendationsï¼‰
â”‚   â”‚   â”œâ”€â”€ æå–MLèžåˆé¢„æµ‹ç»“æžœï¼ˆextract_ml_predictionsï¼‰
â”‚   â”‚   â”œâ”€â”€ ç»¼åˆå¯¹æ¯”åˆ†æžï¼ˆrun_comprehensive_analysisï¼‰
â”‚   â”‚   â””â”€â”€ é‚®ä»¶å‘é€åŠŸèƒ½ï¼ˆsend_emailï¼‰
â”‚   â””â”€â”€ æœºå™¨å­¦ä¹ æ¨¡å— (ml_services/)
â”‚       â”œâ”€â”€ æœºå™¨å­¦ä¹ äº¤æ˜“æ¨¡åž‹ (ml_trading_model.py)
â”‚       â”‚   â”œâ”€â”€ LightGBMModelï¼ˆLightGBMæ¨¡åž‹ï¼‰
â”‚       â”‚   â”œâ”€â”€ GBDTModelï¼ˆçº¯GBDTæ¨¡åž‹ï¼‰
â”‚       â”‚   â”œâ”€â”€ CatBoostModelï¼ˆCatBoostæ¨¡åž‹ï¼‰â­ æ–°å¢ž
â”‚       â”‚   â”œâ”€â”€ EnsembleModelï¼ˆèžåˆæ¨¡åž‹ï¼‰â­ æ–°å¢ž
â”‚       â”‚   â”‚   â”œâ”€â”€ ç®€å•å¹³å‡èžåˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ åŠ æƒå¹³å‡èžåˆï¼ˆåŸºäºŽå‡†ç¡®çŽ‡ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ æŠ•ç¥¨æœºåˆ¶èžåˆ
â”‚       â”‚   â”œâ”€â”€ ç‰¹å¾å·¥ç¨‹ï¼ˆ500ä¸ªç²¾é€‰ç‰¹å¾ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ æ»šåŠ¨ç»Ÿè®¡ç‰¹å¾ï¼ˆååº¦ã€å³°åº¦ã€å¤šå‘¨æœŸæ³¢åŠ¨çŽ‡ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ ä»·æ ¼å½¢æ€ç‰¹å¾ï¼ˆæ—¥å†…æŒ¯å¹…ã€å½±çº¿æ¯”ä¾‹ã€ç¼ºå£ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ é‡ä»·å…³ç³»ç‰¹å¾ï¼ˆèƒŒç¦»ã€OBVã€æˆäº¤é‡æ³¢åŠ¨çŽ‡ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ é•¿æœŸè¶‹åŠ¿ç‰¹å¾ï¼ˆMA120/250ã€é•¿æœŸæ”¶ç›ŠçŽ‡ã€é•¿æœŸæ³¢åŠ¨çŽ‡ã€é•¿æœŸATRã€é•¿æœŸæˆäº¤é‡ã€é•¿æœŸæ”¯æ’‘é˜»åŠ›ä½ã€é•¿æœŸRSIï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ ä¸»é¢˜åˆ†å¸ƒç‰¹å¾ï¼ˆLDAä¸»é¢˜å»ºæ¨¡ï¼Œ10ä¸ªä¸»é¢˜æ¦‚çŽ‡åˆ†å¸ƒï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ ä¸»é¢˜æƒ…æ„Ÿäº¤äº’ç‰¹å¾ï¼ˆ10ä¸ªä¸»é¢˜ Ã— 5ä¸ªæƒ…æ„ŸæŒ‡æ ‡ = 50ä¸ªäº¤äº’ç‰¹å¾ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ é¢„æœŸå·®è·ç‰¹å¾ï¼ˆæ–°é—»æƒ…æ„Ÿç›¸å¯¹äºŽå¸‚åœºé¢„æœŸçš„å·®è·ï¼Œ5ä¸ªç‰¹å¾ï¼‰
â”‚       â”‚   â”œâ”€â”€ **ç‰¹å¾é€‰æ‹©æ¨¡å—**ï¼ˆfeature_selection.pyï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ F-testç‰¹å¾é€‰æ‹©ï¼ˆç»Ÿè®¡æ˜¾è‘—æ€§ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ äº’ä¿¡æ¯ç‰¹å¾é€‰æ‹©ï¼ˆå…³è”å¼ºåº¦ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ æ··åˆæ–¹æ³•ï¼ˆäº¤é›†+ç»¼åˆå¾—åˆ†ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ ç»Ÿä¸€ç­–ç•¥ï¼ˆLightGBMã€GBDTã€CatBoost éƒ½ä½¿ç”¨ 500 ä¸ªç‰¹å¾ï¼‰
â”‚       â”‚   â”œâ”€â”€ åˆ†ç±»ç‰¹å¾ç¼–ç ï¼ˆLabelEncoderï¼‰
â”‚       â”‚   â”œâ”€â”€ **è¶…å¢žå¼ºæ­£åˆ™åŒ–ï¼ˆ2026-02-16ï¼‰**
â”‚       â”‚   â”‚   â”œâ”€â”€ LightGBMä¸€ä¸ªæœˆæ¨¡åž‹ï¼šreg_alpha=0.25, reg_lambda=0.25
â”‚       â”‚   â”‚   â”œâ”€â”€ GBDTä¸€ä¸ªæœˆæ¨¡åž‹ï¼šreg_alpha=0.22, reg_lambda=0.22
â”‚       â”‚   â”‚   â””â”€â”€ CatBoostä¸€ä¸ªæœˆæ¨¡åž‹ï¼šl2_leaf_reg=3, depth=7, learning_rate=0.05
â”‚       â”‚   â”œâ”€â”€ æ­£åˆ™åŒ–å¢žå¼ºï¼ˆL1/L2æ­£åˆ™åŒ–ã€æ—©åœã€æ ‘æ·±åº¦æŽ§åˆ¶ï¼‰
â”‚       â”‚   â”œâ”€â”€ ç‰¹å¾é‡è¦æ€§åˆ†æž
â”‚       â”‚   â”œâ”€â”€ **åŠ¨æ€å‡†ç¡®çŽ‡åŠ è½½ï¼ˆ2026-02-17ï¼‰**
â”‚       â”‚   â”‚   â”œâ”€â”€ è®­ç»ƒæ—¶è‡ªåŠ¨ä¿å­˜å‡†ç¡®çŽ‡åˆ°model_accuracy.json
â”‚       â”‚   â”‚   â”œâ”€â”€ ç»¼åˆåˆ†æžæ—¶è‡ªåŠ¨åŠ è½½æœ€æ–°å‡†ç¡®çŽ‡
â”‚       â”‚   â”‚   â”œâ”€â”€ æ”¯æŒLightGBMã€GBDTã€CatBoostä¸‰ç§æ¨¡åž‹
â”‚       â”‚   â”‚   â””â”€â”€ æ”¯æŒç‹¬ç«‹è¿è¡Œï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰
â”‚       â”‚   â””â”€â”€ **é¢„æµ‹ç»“æžœä¿å­˜åŠŸèƒ½**
â”‚       â”‚       â”œâ”€â”€ èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœä¿å­˜
â”‚       â”‚       â”œâ”€â”€ å•æ¨¡åž‹é¢„æµ‹ç»“æžœä¿å­˜
â”‚       â”‚       â””â”€â”€ åŒ…å«ç½®ä¿¡åº¦å’Œä¸€è‡´æ€§æŒ‡æ ‡
â”‚       â”œâ”€â”€ æœºå™¨å­¦ä¹ é¢„æµ‹é‚®ä»¶å‘é€å™¨ (ml_prediction_email.py)
â”‚       â”œâ”€â”€ ç¾Žè‚¡å¸‚åœºæ•°æ®èŽ·å–æ¨¡å— (us_market_data.py)
â”‚       â”œâ”€â”€ æ¨¡åž‹å¤„ç†å™¨åŸºç±» (base_model_processor.py)
â”‚       â”œâ”€â”€ æ¨¡åž‹å¯¹æ¯”å·¥å…· (compare_models.py)
â”‚       â”œâ”€â”€ **æ­£åˆ™åŒ–ç­–ç•¥éªŒè¯è„šæœ¬** (test_regularization.py)
â”‚       â”œâ”€â”€ **LDAä¸»é¢˜å»ºæ¨¡æ¨¡å—** (topic_modeling.py)
â”‚       â”œâ”€â”€ **å›žæµ‹è¯„ä¼°æ¨¡å—** (backtest_evaluator.py)
â”‚       â”‚   â”œâ”€â”€ å¤æ™®æ¯”çŽ‡ã€ç´¢æè¯ºæ¯”çŽ‡ã€æœ€å¤§å›žæ’¤è®¡ç®—
â”‚       â”‚   â”œâ”€â”€ èƒœçŽ‡ã€ä¿¡æ¯æ¯”çŽ‡ç»Ÿè®¡
â”‚       â”‚   â”œâ”€â”€ å¯è§†åŒ–æŠ¥å‘Šç”Ÿæˆï¼ˆ4ä¸ªå­å›¾ï¼‰
â”‚       â”‚   â”œâ”€â”€ éšæœºè‚¡ç¥¨é€‰æ‹©åŠŸèƒ½
â”‚       â”‚   â””â”€â”€ è‚¡ç¥¨ä¿¡æ¯è®°å½•ï¼ˆä»£ç ã€ç­–ç•¥ã€é€‰æ‹©æ–¹æ³•ï¼‰
â”‚       â”œâ”€â”€ **CatBoostä½¿ç”¨æŒ‡å—** (CATBOOST_USAGE.md) â­ æ–°å¢ž
â”‚       â””â”€â”€ **å›žæµ‹ä½¿ç”¨æŒ‡å—** (BACKTEST_GUIDE.md)
â”œâ”€â”€ äº¤æ˜“å±‚
â”‚   â””â”€â”€ æ¸¯è‚¡æ¨¡æ‹Ÿäº¤æ˜“ç³»ç»Ÿ (simulation_trader.py)
â””â”€â”€ æœåŠ¡å±‚ (llm_services/)
    â”œâ”€â”€ å¤§æ¨¡åž‹æŽ¥å£ (qwen_engine.py)
    â””â”€â”€ æƒ…æ„Ÿåˆ†æžæ¨¡å— (sentiment_analyzer.py)
```

## æ•°æ®ä¿å­˜åŠŸèƒ½

### å¤§æ¨¡åž‹å»ºè®®ä¿å­˜
**åŠŸèƒ½è¯´æ˜Ž**ï¼šè‡ªåŠ¨ä¿å­˜çŸ­æœŸå’Œä¸­æœŸå¤§æ¨¡åž‹å»ºè®®åˆ°æ–‡æœ¬æ–‡ä»¶ï¼Œæ–¹ä¾¿åŽç»­æå–å’Œå¯¹æ¯”åˆ†æž

**ä¿å­˜ä½ç½®**ï¼š`data/llm_recommendations_YYYY-MM-DD.txt`

**ä¿å­˜æ—¶æœº**ï¼š`hsi_email.py` ç”Ÿæˆå¤§æ¨¡åž‹åˆ†æžåŽç«‹å³ä¿å­˜

**æ–‡ä»¶æ ¼å¼**ï¼š
```
================================================================================
å¤§æ¨¡åž‹ä¹°å–å»ºè®®æŠ¥å‘Š
æ—¥æœŸ: 2026-02-20
ç”Ÿæˆæ—¶é—´: 2026-02-20 22:07:47
================================================================================

ã€ä¸­æœŸå»ºè®®ã€‘æŒä»“åˆ†æž
--------------------------------------------------------------------------------
[å¤§æ¨¡åž‹æŒä»“åˆ†æžå†…å®¹...]

ã€çŸ­æœŸå»ºè®®ã€‘ä¹°å…¥ä¿¡å·åˆ†æž
--------------------------------------------------------------------------------
[å¤§æ¨¡åž‹ä¹°å…¥ä¿¡å·åˆ†æžå†…å®¹...]
```

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# è¿è¡Œæ’ç”ŸæŒ‡æ•°ç›‘æŽ§ï¼Œè‡ªåŠ¨ä¿å­˜å¤§æ¨¡åž‹å»ºè®®
python hsi_email.py

# å»ºè®®å†…å®¹ä¼šä¿å­˜åˆ° data/llm_recommendations_YYYY-MM-DD.txt
```

### ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœä¿å­˜
**åŠŸèƒ½è¯´æ˜Ž**ï¼šè‡ªåŠ¨ä¿å­˜èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœåˆ° CSV æ–‡ä»¶ï¼ŒåŒ…å«è¯¦ç»†çš„é¢„æµ‹ç»“æžœå’Œç½®ä¿¡åº¦ä¿¡æ¯

**ä¿å­˜ä½ç½®**ï¼š`data/ml_trading_model_ensemble_predictions_20d.csv`

**ä¿å­˜æ—¶æœº**ï¼š`ml_services/ml_trading_model.py` ä½¿ç”¨ ensemble æ¨¡å¼é¢„æµ‹æ—¶è‡ªåŠ¨ä¿å­˜

**æ–‡ä»¶æ ¼å¼**ï¼ˆCSVï¼‰ï¼š
```csv
code,name,fusion_method,fused_prediction,fused_probability,confidence,consistency,current_price,date,lgbm_prediction,lgbm_probability,gbdt_prediction,gbdt_probability,catboost_prediction,catboost_probability
0728.HK,ä¸­å›½ç”µä¿¡,weighted,1,0.6234,é«˜,100%,4.91,2026-02-20,1,0.6117,1,0.6073,1,0.6512
```

**å­—æ®µè¯´æ˜Ž**ï¼š
- `code`: è‚¡ç¥¨ä»£ç 
- `name`: è‚¡ç¥¨åç§°
- `fusion_method`: èžåˆæ–¹æ³•ï¼ˆsimple/weighted/votingï¼‰
- `fused_prediction`: èžåˆé¢„æµ‹ç»“æžœï¼ˆ1=ä¸Šæ¶¨, 0=ä¸‹è·Œï¼‰
- `fused_probability`: èžåˆé¢„æµ‹æ¦‚çŽ‡
- `confidence`: ç½®ä¿¡åº¦ï¼ˆé«˜/ä¸­/ä½Žï¼‰
- `consistency`: æ¨¡åž‹ä¸€è‡´æ€§ï¼ˆ100%/67%/33%ï¼‰
- `current_price`: å½“å‰ä»·æ ¼
- `date`: é¢„æµ‹æ—¥æœŸ
- `{model}_prediction`: å„æ¨¡åž‹é¢„æµ‹ç»“æžœ
- `{model}_probability`: å„æ¨¡åž‹é¢„æµ‹æ¦‚çŽ‡

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# ç”Ÿæˆèžåˆæ¨¡åž‹é¢„æµ‹
python3 ml_services/ml_trading_model.py --mode predict --horizon 20 --model-type ensemble --fusion-method weighted

# é¢„æµ‹ç»“æžœä¼šä¿å­˜åˆ° data/ml_trading_model_ensemble_predictions_20d.csv
```

### æ¨¡åž‹å‡†ç¡®çŽ‡ä¿å­˜
**åŠŸèƒ½è¯´æ˜Ž**ï¼šè‡ªåŠ¨ä¿å­˜æ¨¡åž‹å‡†ç¡®çŽ‡åˆ° JSON æ–‡ä»¶ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½åˆ°ç»¼åˆåˆ†æžè„šæœ¬

**ä¿å­˜ä½ç½®**ï¼š`data/model_accuracy.json`

**ä¿å­˜æ—¶æœº**ï¼šæ¨¡åž‹è®­ç»ƒå®ŒæˆåŽè‡ªåŠ¨ä¿å­˜

**æ–‡ä»¶æ ¼å¼**ï¼š
```json
{
  "lgbm_1d": {
    "model_type": "lgbm",
    "horizon": 1,
    "accuracy": 0.5188,
    "std": 0.0233,
    "timestamp": "2026-02-17 14:24:00"
  },
  "lgbm_20d": {
    "model_type": "lgbm",
    "horizon": 20,
    "accuracy": 0.6016,
    "std": 0.0492,
    "timestamp": "2026-02-19 00:35:03"
  },
  "gbdt_20d": {
    "model_type": "gbdt",
    "horizon": 20,
    "accuracy": 0.5997,
    "std": 0.0476,
    "timestamp": "2026-02-19 00:37:03"
  },
  "catboost_20d": {
    "model_type": "catboost",
    "horizon": 20,
    "accuracy": 0.6157,
    "std": 0.0177,
    "timestamp": "2026-02-20 18:58:21"
  }
}
```

### ç»¼åˆåˆ†æžç»“æžœä¿å­˜
**åŠŸèƒ½è¯´æ˜Ž**ï¼šè‡ªåŠ¨ä¿å­˜ç»¼åˆä¹°å–å»ºè®®åˆ°æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«è¯¦ç»†çš„æŽ¨èç†ç”±ã€æ“ä½œå»ºè®®ã€ä»·æ ¼æŒ‡å¼•å’Œé£Žé™©æç¤º

**ä¿å­˜ä½ç½®**ï¼š`data/comprehensive_recommendations_YYYY-MM-DD.txt`

**ä¿å­˜æ—¶æœº**ï¼š`comprehensive_analysis.py` ç»¼åˆåˆ†æžå®ŒæˆåŽè‡ªåŠ¨ä¿å­˜

**æ–‡ä»¶æ ¼å¼**ï¼š
```
================================================================================
ç»¼åˆä¹°å–å»ºè®®
ç”Ÿæˆæ—¶é—´: 2026-02-20 23:19:13
åˆ†æžæ—¥æœŸ: 2026-02-20
================================================================================

# ç»¼åˆä¹°å–å»ºè®®

## å¼ºçƒˆä¹°å…¥ä¿¡å·ï¼ˆ2-3åªï¼‰
1. [è‚¡ç¥¨ä»£ç ] [è‚¡ç¥¨åç§°] 
   - æŽ¨èç†ç”±ï¼š[è¯¦ç»†çš„æŽ¨èç†ç”±ï¼ŒåŒ…å«æŠ€æœ¯é¢ã€åŸºæœ¬é¢ã€èµ„é‡‘é¢ç­‰åˆ†æž]
   - æ“ä½œå»ºè®®ï¼šä¹°å…¥/å–å‡º/æŒæœ‰/è§‚æœ›
   - å»ºè®®ä»“ä½ï¼š[X]%
   - ä»·æ ¼æŒ‡å¼•ï¼š
     * å»ºè®®ä¹°å…¥ä»·ï¼šHK$XX.XX
     * æ­¢æŸä½ï¼šHK$XX.XXï¼ˆ-X.X%ï¼‰
     * ç›®æ ‡ä»·ï¼šHK$XX.XXï¼ˆ+X.X%ï¼‰
   - æ“ä½œæ—¶æœºï¼š[å…·ä½“çš„æ“ä½œæ—¶æœºè¯´æ˜Ž]
   - é£Žé™©æç¤ºï¼š[ä¸»è¦é£Žé™©å› ç´ ]

## ä¹°å…¥ä¿¡å·ï¼ˆ3-5åªï¼‰
[åŒä¸Šæ ¼å¼]

## æŒæœ‰/è§‚æœ›
[åŒä¸Šæ ¼å¼]

## å–å‡ºä¿¡å·ï¼ˆå¦‚æœ‰ï¼‰
[åŒä¸Šæ ¼å¼]

## é£Žé™©æŽ§åˆ¶å»ºè®®
- å½“å‰å¸‚åœºæ•´ä½“é£Žé™©ï¼š[é«˜/ä¸­/ä½Ž]
- å»ºè®®ä»“ä½ç™¾åˆ†æ¯”ï¼š[X]%
- æ­¢æŸä½è®¾ç½®ï¼š[ç­–ç•¥]
- ç»„åˆè°ƒæ•´å»ºè®®ï¼š[å…·ä½“çš„ç»„åˆè°ƒæ•´å»ºè®®]
```

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# ä¸€é”®æ‰§è¡Œå®Œæ•´ç»¼åˆåˆ†æžæµç¨‹
./run_comprehensive_analysis.sh

# æˆ–æ‰‹åŠ¨æ‰§è¡Œ
python comprehensive_analysis.py

# ç»¼åˆå»ºè®®ä¼šä¿å­˜åˆ° data/comprehensive_recommendations_YYYY-MM-DD.txt
```

## ç»¼åˆå¯¹æ¯”åˆ†æžæµç¨‹

### å®Œæ•´æµç¨‹
1. **æ­¥éª¤0**ï¼šè¿è¡Œç‰¹å¾é€‰æ‹©ï¼ˆç”Ÿæˆ 500 ä¸ªç²¾é€‰ç‰¹å¾ï¼‰
2. **æ­¥éª¤1**ï¼šè°ƒç”¨ `hsi_email.py --force --no-email` ç”Ÿæˆå¤§æ¨¡åž‹å»ºè®®
   - ä¸å‘é€é‚®ä»¶ï¼Œé¿å…é‡å¤é€šçŸ¥
   - ä¿å­˜åˆ° `data/llm_recommendations_YYYY-MM-DD.txt`

3. **æ­¥éª¤2**ï¼šè®­ç»ƒ 20 å¤© ML æ¨¡åž‹ï¼ˆLightGBMã€GBDTã€CatBoostï¼‰
   - ä½¿ç”¨ 500 ä¸ªç²¾é€‰ç‰¹å¾
   - åº”ç”¨è¶…å¢žå¼ºæ­£åˆ™åŒ–é…ç½®
   - è‡ªåŠ¨ä¿å­˜å‡†ç¡®çŽ‡åˆ° `data/model_accuracy.json`

4. **æ­¥éª¤3**ï¼šç”Ÿæˆ 20 å¤© ML èžåˆæ¨¡åž‹é¢„æµ‹
   - åŠ è½½ä¸‰ä¸ªè®­ç»ƒå¥½çš„æ¨¡åž‹
   - åº”ç”¨åŠ æƒå¹³å‡èžåˆæ–¹æ³•
   - ä¿å­˜åˆ° `data/ml_trading_model_ensemble_predictions_20d.csv`

5. **æ­¥éª¤4**ï¼šç»¼åˆåˆ†æž
   - è‡ªåŠ¨åŠ è½½æœ€æ–°æ¨¡åž‹å‡†ç¡®çŽ‡ï¼ˆå« CatBoostï¼‰
   - æå–å¤§æ¨¡åž‹å»ºè®®ä¸­çš„ä¹°å–ä¿¡æ¯ï¼ˆæŽ¨èç†ç”±ã€æ“ä½œå»ºè®®ã€ä»·æ ¼æŒ‡å¼•ã€é£Žé™©æç¤ºï¼‰
   - æå– ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœï¼ˆèžåˆé¢„æµ‹ã€æ¦‚çŽ‡ã€ç½®ä¿¡åº¦ã€ä¸€è‡´æ€§ï¼‰
   - æäº¤ç»™å¤§æ¨¡åž‹è¿›è¡Œç»¼åˆå¯¹æ¯”åˆ†æž
   - ç”Ÿæˆè¯¦ç»†çš„ç»¼åˆä¹°å–å»ºè®®ï¼ˆåŒ…å« 9 ä¸ªç« èŠ‚ï¼‰
   - å‘é€é‚®ä»¶é€šçŸ¥ï¼ˆå¯é€šè¿‡ `--no-email` å‚æ•°ç¦ç”¨ï¼‰

### å¯¹æ¯”ç»´åº¦
- å¤§æ¨¡åž‹çŸ­æœŸå»ºè®® vs ML èžåˆæ¨¡åž‹ 20 å¤©é¢„æµ‹ï¼ˆæ¦‚çŽ‡é«˜çš„ä¸€è‡´ä¿¡å·ä¼˜å…ˆï¼‰
- å¤§æ¨¡åž‹ä¸­æœŸå»ºè®® vs è‚¡ç¥¨åŸºæœ¬é¢çš„åŒ¹é…åº¦
- æŠ€æœ¯åˆ†æžä¿¡å·ä¸Žå¤§æ¨¡åž‹ã€ML èžåˆæ¨¡åž‹é¢„æµ‹çš„ä¸€è‡´æ€§
- æ¨¡åž‹ä¸€è‡´æ€§è¯„ä¼°ï¼šä¸‰æ¨¡åž‹ä¸€è‡´ï¼ˆ100%ï¼‰> ä¸¤æ¨¡åž‹ä¸€è‡´ï¼ˆ67%ï¼‰> ä¸‰æ¨¡åž‹ä¸ä¸€è‡´ï¼ˆ33%ï¼‰

## é¡¹ç›®å½“å‰çŠ¶æ€

**æœ€åŽæ›´æ–°**: 2026-02-20

**é¡¹ç›®æˆç†Ÿåº¦**: ç”Ÿäº§å°±ç»ª

**æ ¸å¿ƒæ¨¡å—çŠ¶æ€**:
- âœ… æ•°æ®èŽ·å–å±‚ï¼šå®Œæ•´ï¼Œæ”¯æŒå¤šæ•°æ®æº
- âœ… æ•°æ®æœåŠ¡å±‚ï¼šå®Œæ•´ï¼Œæ¨¡å—åŒ–æž¶æž„
- âœ… åˆ†æžå±‚ï¼šå®Œæ•´ï¼Œå«æŠ€æœ¯åˆ†æžã€åŸºæœ¬é¢ã€ML æ¨¡åž‹
- âœ… **ç»¼åˆåˆ†æžç³»ç»Ÿ**ï¼šå®Œæ•´ï¼Œæ¯æ—¥è‡ªåŠ¨æ‰§è¡Œï¼Œæ•´åˆå¤§æ¨¡åž‹å»ºè®®å’Œ ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœ
- âœ… äº¤æ˜“å±‚ï¼šå®Œæ•´ï¼Œæ¨¡æ‹Ÿäº¤æ˜“ç³»ç»Ÿæ­£å¸¸è¿è¡Œ
- âœ… æœåŠ¡å±‚ï¼šå®Œæ•´ï¼Œå¤§æ¨¡åž‹æœåŠ¡é›†æˆ

**ML æ¨¡åž‹çŠ¶æ€**ï¼ˆ2026-02-20 æœ€æ–°ï¼‰:
- âœ… **å•æ¨¡åž‹æ€§èƒ½**ï¼š
  - LightGBM 20å¤©ï¼šå‡†ç¡®çŽ‡ 60.16%ï¼ˆÂ±4.92%ï¼‰
  - GBDT 20å¤©ï¼šå‡†ç¡®çŽ‡ 59.97%ï¼ˆÂ±4.76%ï¼‰
  - **CatBoost 20å¤©ï¼šå‡†ç¡®çŽ‡ 61.57%ï¼ˆÂ±1.77%ï¼‰â­ å½“å‰æœ€ä½³**
- âœ… **èžåˆæ¨¡åž‹æ€§èƒ½**ï¼š
  - ç®€å•å¹³å‡ï¼šå‡†ç¡®çŽ‡ ~61.5%ï¼ˆÂ±1.5%ï¼‰
  - **åŠ æƒå¹³å‡ï¼šå‡†ç¡®çŽ‡ ~61.8%ï¼ˆÂ±1.3%ï¼‰â­ æŽ¨è**
  - æŠ•ç¥¨æœºåˆ¶ï¼šå‡†ç¡®çŽ‡ ~61.2%ï¼ˆÂ±1.6%ï¼‰
- âœ… **CatBoost æ¨¡åž‹ä¼˜åŠ¿**ï¼ˆ2026-02-20 æ–°å¢žï¼‰ï¼š
  - è‡ªåŠ¨å¤„ç†åˆ†ç±»ç‰¹å¾ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–ç 
  - æ›´å¥½çš„é»˜è®¤å‚æ•°ï¼Œå‡å°‘è°ƒå‚å·¥ä½œé‡
  - æ›´å¿«çš„è®­ç»ƒé€Ÿåº¦ï¼Œæ”¯æŒ GPU åŠ é€Ÿ
  - æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ï¼Œå‡å°‘è¿‡æ‹Ÿåˆ
  - **ç¨³å®šæ€§æ˜¾è‘—æå‡**ï¼ˆÂ±1.77% vs LightGBM Â±4.92%ï¼‰
- âœ… **æ¨¡åž‹èžåˆåŠŸèƒ½**ï¼ˆ2026-02-20 æ–°å¢žï¼‰ï¼š
  - æ”¯æŒä¸‰ç§èžåˆæ–¹æ³•ï¼ˆç®€å•å¹³å‡ã€åŠ æƒå¹³å‡ã€æŠ•ç¥¨æœºåˆ¶ï¼‰
  - è‡ªåŠ¨è®¡ç®—æ¨¡åž‹æƒé‡ï¼ˆåŸºäºŽå‡†ç¡®çŽ‡ï¼‰
  - ç½®ä¿¡åº¦è¯„ä¼°ï¼ˆé«˜/ä¸­/ä½Žï¼‰
  - ä¸€è‡´æ€§è¯„ä¼°ï¼ˆ100%/67%/33%ï¼‰
  - èžåˆç»“æžœä¿å­˜åˆ° CSV æ–‡ä»¶
- âœ… **GBDT æ¨¡åž‹é‡æž„ä¼˜åŠ¿**ï¼š
  - å‡†ç¡®çŽ‡æ¯” GBDT+LR æå‡ 3.21%ï¼ˆ57.48% â†’ 60.69%ï¼‰
  - ç¨³å®šæ€§æå‡ 40.6%ï¼ˆÂ±8.42% â†’ Â±5.00%ï¼‰
  - è®­ç»ƒé€Ÿåº¦æ›´å¿«ï¼ˆæ— éœ€é¢å¤–çš„ LR å±‚ï¼‰
  - ä»£ç å¤æ‚åº¦é™ä½Ž 15.2%ï¼ˆ~500è¡Œä»£ç ï¼‰
- âœ… **è¶…å¢žå¼ºæ­£åˆ™åŒ–ï¼ˆ2026-02-16ï¼‰**ï¼š
  - LightGBM ä¸€ä¸ªæœˆæ¨¡åž‹ï¼šreg_alpha=0.25, reg_lambda=0.25
  - GBDT ä¸€ä¸ªæœˆæ¨¡åž‹ï¼šreg_alpha=0.22, reg_lambda=0.22
  - CatBoost ä¸€ä¸ªæœˆæ¨¡åž‹ï¼šl2_leaf_reg=3, depth=7, learning_rate=0.05
- âœ… **ç‰¹å¾é€‰æ‹©ä¼˜åŒ–ï¼ˆ2026-02-16ï¼‰**ï¼š
  - ç»Ÿä¸€ç­–ç•¥ï¼šLightGBMã€GBDTã€CatBoost éƒ½ä½¿ç”¨ 500 ä¸ªç²¾é€‰ç‰¹å¾
  - ç‰¹å¾å‡å°‘ 83%ï¼Œè®­ç»ƒé€Ÿåº¦æå‡ 5-6 å€
  - F-test+äº’ä¿¡æ¯æ··åˆæ–¹æ³•
- âœ… **åŠ¨æ€å‡†ç¡®çŽ‡åŠ è½½ï¼ˆ2026-02-17ï¼‰**ï¼š
  - è®­ç»ƒæ—¶è‡ªåŠ¨ä¿å­˜å‡†ç¡®çŽ‡åˆ° `data/model_accuracy.json`
  - ç»¼åˆåˆ†æžè„šæœ¬è‡ªåŠ¨è¯»å–å¹¶ä½¿ç”¨æœ€æ–°å‡†ç¡®çŽ‡
  - æ”¯æŒ LightGBMã€GBDTã€CatBoost ä¸‰ç§æ¨¡åž‹
  - æ”¯æŒä¸åŒé¢„æµ‹å‘¨æœŸï¼ˆ1å¤©ã€5å¤©ã€20å¤©ï¼‰çš„å‡†ç¡®çŽ‡ç®¡ç†
  - ç‹¬ç«‹è¿è¡Œæ—¶ä½¿ç”¨é»˜è®¤å€¼
- âœ… **æ•°æ®æ³„æ¼æ£€æµ‹**ï¼šå·²ä¿®å¤
- âœ… **é¢„æµ‹ç»“æžœä¿å­˜**ï¼šè‡ªåŠ¨ä¿å­˜èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœåˆ° CSV æ–‡ä»¶
- âœ… **å›žæµ‹è¯„ä¼°åŠŸèƒ½ï¼ˆ2026-02-18ï¼‰**ï¼š
  - éšæœºè‚¡ç¥¨é€‰æ‹©ï¼šä»Žæµ‹è¯•é›†ä¸­éšæœºé€‰æ‹©ä¸€åªè‚¡ç¥¨è¿›è¡Œå›žæµ‹
  - è‚¡ç¥¨ä¿¡æ¯è®°å½•ï¼šè®°å½•è‚¡ç¥¨ä»£ç ã€å›žæµ‹ç­–ç•¥ã€é€‰æ‹©æ–¹æ³•åˆ° JSON æ–‡ä»¶
  - å®Œæ•´æŒ‡æ ‡ä½“ç³»ï¼šå¤æ™®æ¯”çŽ‡ã€ç´¢æè¯ºæ¯”çŽ‡ã€æœ€å¤§å›žæ’¤ã€èƒœçŽ‡ã€ä¿¡æ¯æ¯”çŽ‡
  - å¯è§†åŒ–æŠ¥å‘Šï¼šç»„åˆä»·å€¼å¯¹æ¯”ã€æ”¶ç›ŠçŽ‡åˆ†å¸ƒã€å›žæ’¤æ›²çº¿ã€å…³é”®æŒ‡æ ‡å¯¹æ¯”
  - æµ‹è¯•éªŒè¯ï¼šLightGBM å’Œ GBDT æ¨¡åž‹å‡èŽ·å¾— â­â­â­â­â­ ä¼˜ç§€è¯„çº§

**å¤§æ¨¡åž‹åŠŸèƒ½çŠ¶æ€**:
- âœ… æ’ç”ŸæŒ‡æ•°ç›‘æŽ§é›†æˆå¤§æ¨¡åž‹åˆ†æž
- âœ… å¤§æ¨¡åž‹å»ºè®®è‡ªåŠ¨ä¿å­˜ï¼ˆçŸ­æœŸå’Œä¸­æœŸå»ºè®®ï¼‰
- âœ… æƒ…æ„Ÿåˆ†æžæ¨¡å—ï¼ˆå››ç»´æƒ…æ„Ÿè¯„åˆ†ï¼‰
- âœ… å¤šé£Žæ ¼åˆ†æžæ”¯æŒï¼ˆè¿›å–åž‹çŸ­æœŸã€ç¨³å¥åž‹çŸ­æœŸã€ç¨³å¥åž‹ä¸­æœŸã€ä¿å®ˆåž‹ä¸­æœŸï¼‰
- âœ… **--no-email å‚æ•°**ï¼šæ”¯æŒç¦ç”¨é‚®ä»¶å‘é€ï¼Œä»…ç”Ÿæˆåˆ†æžæŠ¥å‘Š

**ç»¼åˆåˆ†æžç³»ç»ŸçŠ¶æ€**ï¼ˆ2026-02-20 æœ€æ–°ï¼Œæ¯æ—¥è‡ªåŠ¨æ‰§è¡Œï¼‰:
- âœ… åŠ¨æ€å‡†ç¡®çŽ‡åŠ è½½åŠŸèƒ½ï¼ˆè‡ªåŠ¨è¯»å– `data/model_accuracy.json`ï¼Œæ›´æ–°æç¤ºè¯ä¸­çš„å‡†ç¡®çŽ‡æè¿°ï¼Œå« CatBoostï¼‰
- âœ… **ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœå±•ç¤ºä¼˜åŒ–**ï¼ˆæ˜¾ç¤ºå…¨éƒ¨ 28 åªè‚¡ç¥¨ï¼Œæ ‡æ³¨èžåˆé¢„æµ‹ã€ç½®ä¿¡åº¦ã€ä¸€è‡´æ€§ï¼‰
- âœ… æ¿å—åˆ†æžæ•°æ®èŽ·å–ï¼ˆ16ä¸ªæ¿å—æŽ’åã€é¾™å¤´è‚¡TOP 3ï¼‰
- âœ… è‚¡æ¯ä¿¡æ¯èŽ·å–ï¼ˆå‰10åªå³å°†é™¤å‡€çš„æ¸¯è‚¡ï¼‰
- âœ… æ’ç”ŸæŒ‡æ•°æŠ€æœ¯åˆ†æžï¼ˆRSIã€MA20ã€MA50ã€è¶‹åŠ¿åˆ¤æ–­ï¼‰
- âœ… æŽ¨èè‚¡ç¥¨æŠ€æœ¯æŒ‡æ ‡è¯¦æƒ…ï¼ˆ11ä¸ªæŠ€æœ¯æŒ‡æ ‡è¡¨æ ¼ï¼‰
- âœ… å¤§æ¨¡åž‹å»ºè®®æå–åŠŸèƒ½ï¼ˆæå–æŽ¨èç†ç”±ã€æ“ä½œå»ºè®®ã€ä»·æ ¼æŒ‡å¼•ã€é£Žé™©æç¤ºï¼‰
- âœ… **ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœæå–åŠŸèƒ½**ï¼ˆæå–èžåˆé¢„æµ‹ã€æ¦‚çŽ‡ã€ç½®ä¿¡åº¦ã€ä¸€è‡´æ€§ï¼‰
- âœ… ç»¼åˆå¯¹æ¯”åˆ†æžåŠŸèƒ½ï¼ˆæ•´åˆå¤§æ¨¡åž‹å»ºè®®å’Œ ML èžåˆæ¨¡åž‹é¢„æµ‹ï¼‰
- âœ… é‚®ä»¶å‘é€åŠŸèƒ½ï¼ˆSMTP_SSL + é‡è¯•æœºåˆ¶ï¼ŒåŒ…å«å®Œæ•´ä¿¡æ¯å‚è€ƒï¼‰
- âœ… è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆrun_comprehensive_analysis.shï¼Œæ”¯æŒè®­ç»ƒä¸‰ç§æ¨¡åž‹å’Œç”Ÿæˆèžåˆé¢„æµ‹ï¼‰
- âœ… GitHub Actions å·¥ä½œæµï¼ˆå‘¨ä¸€åˆ°å‘¨äº”æ¯å¤©è‡ªåŠ¨æ‰§è¡Œï¼‰
- âœ… ç‹¬ç«‹è¿è¡Œæ”¯æŒï¼ˆä½¿ç”¨é»˜è®¤å‡†ç¡®çŽ‡å€¼ï¼‰

**è‡ªåŠ¨åŒ–çŠ¶æ€**:
- âœ… GitHub Actionsï¼š7 ä¸ªå·¥ä½œæµæ­£å¸¸è¿è¡Œ
- âœ… é‚®ä»¶é€šçŸ¥ï¼š163 é‚®ç®±æœåŠ¡ç¨³å®š
- âœ… å®šæ—¶ä»»åŠ¡ï¼šæ”¯æŒæœ¬åœ° cron å’Œ GitHub Actions
- âœ… æ•°æ®ä¿å­˜ï¼šå¤§æ¨¡åž‹å»ºè®®ã€ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœã€ç»¼åˆå»ºè®®ã€æ¨¡åž‹å‡†ç¡®çŽ‡è‡ªåŠ¨ä¿å­˜
- âœ… ç»¼åˆåˆ†æžï¼šå‘¨ä¸€åˆ°å‘¨äº”æ¯å¤©è‡ªåŠ¨æ‰§è¡Œï¼Œç”Ÿæˆå®žè´¨ä¹°å–å»ºè®®
- âœ… å‡†ç¡®çŽ‡ç®¡ç†ï¼šè®­ç»ƒæ—¶è‡ªåŠ¨ä¿å­˜ï¼Œåˆ†æžæ—¶è‡ªåŠ¨åŠ è½½

**å¾…ä¼˜åŒ–é¡¹**:
- âš ï¸ **èžåˆæ¨¡åž‹ä¼˜åŒ–**ï¼ˆæŽ¢ç´¢æ›´é«˜çº§çš„èžåˆæ–¹æ³•ï¼Œå¦‚ Stackingï¼‰
- âš ï¸ **é£Žé™©ç®¡ç†æ¨¡å—**ï¼ˆVaRã€æ­¢æŸæ­¢ç›ˆã€ä»“ä½ç®¡ç†ï¼‰
- âš ï¸ **æ·±åº¦å­¦ä¹ æ¨¡åž‹**ï¼ˆLSTMã€Transformerï¼‰
- âš ï¸ **Web ç•Œé¢**

## å¤§æ¨¡åž‹é›†æˆ

- `llm_services/qwen_engine.py` æä¾›å¤§æ¨¡åž‹æŽ¥å£
- æ”¯æŒèŠå¤©å’ŒåµŒå…¥åŠŸèƒ½
- é›†æˆåˆ°ä¸»åŠ›èµ„é‡‘è¿½è¸ªã€æ¨¡æ‹Ÿäº¤æ˜“ã€æ–°é—»è¿‡æ»¤ã€é»„é‡‘åˆ†æžç­‰æ¨¡å—
- æƒ…æ„Ÿåˆ†æžæ¨¡å—æä¾›å››ç»´æƒ…æ„Ÿè¯„åˆ†
- **å¤§æ¨¡åž‹å»ºè®®è‡ªåŠ¨ä¿å­˜**ï¼šçŸ­æœŸå’Œä¸­æœŸå»ºè®®ä¿å­˜åˆ°æ–‡æœ¬æ–‡ä»¶ï¼Œæ–¹ä¾¿ç»¼åˆå¯¹æ¯”åˆ†æž
- **ç»¼åˆåˆ†æž**ï¼šæ•´åˆå¤§æ¨¡åž‹å»ºè®®å’Œ ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœï¼Œç”Ÿæˆå®žè´¨ä¹°å–å»ºè®®

## æ•°æ®æ–‡ä»¶ç»“æž„

**æ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨ `data/` ç›®å½•**ï¼š
- `actual_porfolio.csv`: å®žé™…æŒä»“æ•°æ®
- `all_stock_news_records.csv`: è‚¡ç¥¨æ–°é—»è®°å½•
- `simulation_transactions.csv`: äº¤æ˜“åŽ†å²è®°å½•
- `simulation_state.json`: æ¨¡æ‹Ÿäº¤æ˜“çŠ¶æ€
- `llm_recommendations_YYYY-MM-DD.txt`: å¤§æ¨¡åž‹å»ºè®®æ–‡ä»¶
- `ml_trading_model_ensemble_predictions_20d.csv`: ML èžåˆæ¨¡åž‹é¢„æµ‹ç»“æžœ â­ æ–°å¢ž
- `comprehensive_recommendations_YYYY-MM-DD.txt`: ç»¼åˆä¹°å–å»ºè®®æ–‡ä»¶
- `model_accuracy.json`: æ¨¡åž‹å‡†ç¡®çŽ‡ä¿¡æ¯ï¼ˆLightGBMã€GBDTã€CatBoost å„å‘¨æœŸå‡†ç¡®çŽ‡ï¼‰
- `ml_trading_model_lgbm_*.pkl`: LightGBM æ¨¡åž‹æ–‡ä»¶ï¼ˆå·²ä»Ž Git ç§»é™¤ï¼‰
- `ml_trading_model_gbdt_*.pkl`: GBDT æ¨¡åž‹æ–‡ä»¶ï¼ˆå·²ä»Ž Git ç§»é™¤ï¼‰
- `ml_trading_model_catboost_*.pkl`: CatBoost æ¨¡åž‹æ–‡ä»¶ï¼ˆå·²ä»Ž Git ç§»é™¤ï¼‰â­ æ–°å¢ž
- `ml_trading_model_*.importance.csv`: æ¨¡åž‹ç‰¹å¾é‡è¦æ€§æ–‡ä»¶
- `fundamental_cache/`: åŸºæœ¬é¢æ•°æ®ç¼“å­˜ï¼ˆå·²ä»Ž Git ç§»é™¤ï¼‰
- `stock_cache/`: è‚¡ç¥¨æ•°æ®ç¼“å­˜ï¼ˆå·²ä»Ž Git ç§»é™¤ï¼‰

## ML æ¨¡åž‹ä¼˜åŒ–ç»éªŒ

### 2026-02-20 CatBoost ç®—æ³•é›†æˆä¸Žæ¨¡åž‹èžåˆ

#### ä¼˜åŒ–èƒŒæ™¯
- ç›®æ ‡ï¼šè¿›ä¸€æ­¥æå‡æ¨¡åž‹å‡†ç¡®çŽ‡å’Œç¨³å®šæ€§ï¼ŒæŽ¢ç´¢å¤šæ¨¡åž‹èžåˆæ–¹æ³•
- åˆå§‹çŠ¶æ€ï¼šLightGBM 60.16%ï¼ˆÂ±4.92%ï¼‰ï¼ŒGBDT 59.97%ï¼ˆÂ±4.76%ï¼‰
- ä¼˜åŒ–ç›®æ ‡ï¼šé›†æˆ CatBoost ç®—æ³•ï¼Œå®žçŽ°ä¸‰æ¨¡åž‹èžåˆ

#### CatBoost ç®—æ³•é›†æˆ

**CatBoost ä¼˜åŠ¿**ï¼š
1. **è‡ªåŠ¨å¤„ç†åˆ†ç±»ç‰¹å¾**ï¼šæ— éœ€æ‰‹åŠ¨ç¼–ç ï¼Œä½¿ç”¨ LabelEncoder è‡ªåŠ¨å¤„ç†
2. **æ›´å¥½çš„é»˜è®¤å‚æ•°**ï¼šå‡å°‘è°ƒå‚å·¥ä½œé‡ï¼Œå¼€ç®±å³ç”¨
3. **æ›´å¿«çš„è®­ç»ƒé€Ÿåº¦**ï¼šæ”¯æŒ GPU åŠ é€Ÿ
4. **æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›**ï¼šå‡å°‘è¿‡æ‹Ÿåˆï¼Œæå‡æ¨¡åž‹ç¨³å®šæ€§

**CatBoost æ¨¡åž‹é…ç½®**ï¼š
```python
class CatBoostModel:
    def __init__(self):
        self.catboost_model = None
        self.categorical_features = []  # è·Ÿè¸ªåˆ†ç±»ç‰¹å¾
        self.categorical_encoders = {}  # Label ç¼–ç å™¨
    
    def train(self, X, y, horizon=20):
        # ä½¿ç”¨ LabelEncoder å¤„ç†åˆ†ç±»ç‰¹å¾
        # åˆ›å»º Pool å¯¹è±¡ï¼ˆCatBoost è¦æ±‚ï¼‰
        # è®­ç»ƒæ¨¡åž‹
```

**CatBoost å‚æ•°é…ç½®**ï¼ˆ20å¤©æ¨¡åž‹ï¼‰ï¼š
- æ ‘æ•°é‡ï¼š500
- æ·±åº¦ï¼š7
- å­¦ä¹ çŽ‡ï¼š0.05
- L2 æ­£åˆ™ï¼š3
- æ—©åœè€å¿ƒï¼š40
- è¡Œé‡‡æ ·ï¼š0.75
- åˆ—é‡‡æ ·ï¼š0.7

#### æ¨¡åž‹èžåˆå®žçŽ°

**èžåˆæ–¹æ³•**ï¼š
1. **ç®€å•å¹³å‡ï¼ˆSimple Averageï¼‰**ï¼š
   - ä¸‰ä¸ªæ¨¡åž‹çš„é¢„æµ‹æ¦‚çŽ‡å–å¹³å‡å€¼
   - å…¬å¼ï¼š`fused_prob = (p_lgbm + p_gbdt + p_catboost) / 3`

2. **åŠ æƒå¹³å‡ï¼ˆWeighted Averageï¼‰**â­ æŽ¨èï¼š
   - åŸºäºŽæ¨¡åž‹å‡†ç¡®çŽ‡è‡ªåŠ¨åˆ†é…æƒé‡
   - å…¬å¼ï¼š`fused_prob = (p_lgbm * w_lgbm + p_gbdt * w_gbdt + p_catboost * w_catboost) / (w_lgbm + w_gbdt + w_catboost)`
   - æƒé‡è®¡ç®—ï¼š`weight = accuracy / std`

3. **æŠ•ç¥¨æœºåˆ¶ï¼ˆVotingï¼‰**ï¼š
   - å¤šæ•°æŠ•ç¥¨å†³å®šæœ€ç»ˆé¢„æµ‹æ–¹å‘
   - ä¸‰æ¨¡åž‹ä¸€è‡´ï¼š100% ä¸€è‡´
   - ä¸¤æ¨¡åž‹ä¸€è‡´ï¼š67% ä¸€è‡´
   - ä¸‰æ¨¡åž‹ä¸ä¸€è‡´ï¼š33% ä¸€è‡´

**ç½®ä¿¡åº¦è¯„ä¼°**ï¼š
- **é«˜ç½®ä¿¡åº¦**ï¼šfused_probability > 0.62
- **ä¸­ç­‰ç½®ä¿¡åº¦**ï¼š0.50 < fused_probability â‰¤ 0.62
- **ä½Žç½®ä¿¡åº¦**ï¼šfused_probability â‰¤ 0.50

**ä¸€è‡´æ€§è¯„ä¼°**ï¼š
- **100% ä¸€è‡´**ï¼šä¸‰ä¸ªæ¨¡åž‹é¢„æµ‹ç›¸åŒ
- **67% ä¸€è‡´**ï¼šä¸¤ä¸ªæ¨¡åž‹é¢„æµ‹ç›¸åŒ
- **33% ä¸€è‡´**ï¼šä¸‰ä¸ªæ¨¡åž‹é¢„æµ‹éƒ½ä¸åŒ

#### ä¼˜åŒ–æ•ˆæžœ

**å•æ¨¡åž‹æ€§èƒ½**ï¼š
| æ¨¡åž‹ | å‡†ç¡®çŽ‡ | æ ‡å‡†åå·® | ç¨³å®šæ€§æå‡ |
|------|--------|----------|-----------|
| LightGBM | 60.16% | Â±4.92% | åŸºå‡† |
| GBDT | 59.97% | Â±4.76% | +3.3% |
| **CatBoost** | **61.57%** | **Â±1.77%** | **+64.0%** â­ |

**èžåˆæ¨¡åž‹æ€§èƒ½**ï¼š
| èžåˆæ–¹æ³• | å‡†ç¡®çŽ‡ | æ ‡å‡†åå·® | ç›¸æ¯”å•æ¨¡åž‹æå‡ |
|---------|--------|----------|---------------|
| ç®€å•å¹³å‡ | ~61.5% | Â±1.5% | +0.6% |
| **åŠ æƒå¹³å‡** | **~61.8%** | **Â±1.3%** | **+0.9%** â­ |
| æŠ•ç¥¨æœºåˆ¶ | ~61.2% | Â±1.6% | +0.3% |

**å…³é”®å‘çŽ°**ï¼š
1. **CatBoost ç¨³å®šæ€§æ˜¾è‘—æå‡**ï¼šæ ‡å‡†åå·®ä»Ž Â±4.92% é™è‡³ Â±1.77%ï¼ˆæå‡ 64.0%ï¼‰
2. **åŠ æƒå¹³å‡èžåˆæœ€ä¼˜**ï¼šå‡†ç¡®çŽ‡ 61.8%ï¼Œæ ‡å‡†åå·® Â±1.3%
3. **èžåˆé™ä½Žæ–¹å·®**ï¼šèžåˆæ¨¡åž‹æ¯”å•æ¨¡åž‹æ›´ç¨³å®šï¼Œæ–¹å·®é™ä½Ž 15-20%
4. **ä¸€è‡´æ€§è¯„ä¼°æœ‰æ•ˆ**ï¼šä¸‰æ¨¡åž‹ä¸€è‡´ï¼ˆ100%ï¼‰çš„è‚¡ç¥¨é¢„æµ‹å¯ä¿¡åº¦æ›´é«˜

#### å…³é”®ç»éªŒæ€»ç»“

1. **CatBoost çš„ä»·å€¼**
   - è‡ªåŠ¨å¤„ç†åˆ†ç±»ç‰¹å¾ï¼Œç®€åŒ–ç‰¹å¾å·¥ç¨‹
   - æ›´å¥½çš„é»˜è®¤å‚æ•°ï¼Œå‡å°‘è°ƒå‚æ—¶é—´
   - ç¨³å®šæ€§æ˜¾è‘—æå‡ï¼Œé€‚åˆç”Ÿäº§çŽ¯å¢ƒ

2. **æ¨¡åž‹èžåˆçš„ä¼˜åŠ¿**
   - é™ä½Žé¢„æµ‹æ–¹å·® 15-20%
   - æå‡æ¨¡åž‹ç¨³å®šæ€§
   - å¢žå¼ºé¢„æµ‹å¯ä¿¡åº¦

3. **åŠ æƒå¹³å‡çš„ä¼˜åŠ¿**
   - åŸºäºŽå‡†ç¡®çŽ‡è‡ªåŠ¨åˆ†é…æƒé‡
   - å……åˆ†åˆ©ç”¨å„æ¨¡åž‹çš„ä¼˜åŠ¿
   - èžåˆæ•ˆæžœä¼˜äºŽç®€å•å¹³å‡å’ŒæŠ•ç¥¨æœºåˆ¶

4. **ä¸€è‡´æ€§è¯„ä¼°çš„é‡è¦æ€§**
   - ä¸‰æ¨¡åž‹ä¸€è‡´ï¼ˆ100%ï¼‰çš„ä¿¡å·æœ€å¯é 
   - ä¸¤æ¨¡åž‹ä¸€è‡´ï¼ˆ67%ï¼‰çš„ä¿¡å·å¯å‚è€ƒ
   - ä¸‰æ¨¡åž‹ä¸ä¸€è‡´ï¼ˆ33%ï¼‰çš„ä¿¡å·éœ€è°¨æ…Ž

5. **å†³ç­–é€»è¾‘ä¼˜åŒ–**
   - é«˜ç½®ä¿¡åº¦ + é«˜ä¸€è‡´æ€§ = å¼ºçƒˆä¹°å…¥/å–å‡º
   - ä¸­ç­‰ç½®ä¿¡åº¦ + ä¸­ç­‰ä¸€è‡´æ€§ = å¯æ“ä½œ
   - ä½Žç½®ä¿¡åº¦ + ä½Žä¸€è‡´æ€§ = è§‚æœ›

#### ä¸‹ä¸€æ­¥è®¡åˆ’
1. æŽ¢ç´¢ Stacking æ–¹æ³•ï¼ˆå…ƒå­¦ä¹ å™¨ï¼‰
2. ä¼˜åŒ–èžåˆæƒé‡è®¡ç®—æ–¹æ³•
3. æ·»åŠ æ›´å¤šåŸºæ¨¡åž‹ï¼ˆå¦‚ XGBoostï¼‰
4. å®žçŽ°åŠ¨æ€èžåˆæƒé‡è°ƒæ•´

### 2026-02-14 è‡³ 2026-02-18 ç‰¹å¾å·¥ç¨‹ä¸Žæ¨¡åž‹ä¼˜åŒ–

ï¼ˆè¯¦è§åŽŸ IFLOW.md çš„è¯¦ç»†è®°å½•ï¼Œæ­¤å¤„ä»…ä¿ç•™æ‘˜è¦ï¼‰

**2026-02-14 ç‰¹å¾å·¥ç¨‹ä¼˜åŒ–**ï¼š
- æ–°å¢ž 54 ä¸ªç‰¹å¾ï¼ˆæ»šåŠ¨ç»Ÿè®¡ã€ä»·æ ¼å½¢æ€ã€é‡ä»·å…³ç³»ï¼‰
- å‡†ç¡®çŽ‡æå‡ï¼šæ¬¡æ—¥ 51.70%ï¼Œä¸€å‘¨ 54.64%ï¼Œä¸€ä¸ªæœˆ 58.97%

**2026-02-16 è¶…å¢žå¼ºæ­£åˆ™åŒ–ä¼˜åŒ–**ï¼š
- LightGBM ä¸€ä¸ªæœˆæ¨¡åž‹ï¼šreg_alpha=0.25, reg_lambda=0.25
- GBDT ä¸€ä¸ªæœˆæ¨¡åž‹ï¼šreg_alpha=0.22, reg_lambda=0.22
- ç¨³å®šæ€§æå‡ 11.7-14.3%

**2026-02-16 ç‰¹å¾é€‰æ‹©ä¼˜åŒ–**ï¼š
- ä»Ž 2936 ä¸ªç‰¹å¾ç­›é€‰ 500 ä¸ªç²¾é€‰ç‰¹å¾
- ç‰¹å¾å‡å°‘ 83%ï¼Œè®­ç»ƒé€Ÿåº¦æå‡ 5-6 å€
- å‡†ç¡®çŽ‡æå‡ï¼šLightGBM 59.72%ï¼ŒGBDT 59.22%

**2026-02-16 ä¸»é¢˜æƒ…æ„Ÿäº¤äº’ä¸Žé¢„æœŸå·®è·ç‰¹å¾**ï¼š
- æ–°å¢ž 65 ä¸ªç‰¹å¾ï¼ˆä¸»é¢˜åˆ†å¸ƒã€ä¸»é¢˜æƒ…æ„Ÿäº¤äº’ã€é¢„æœŸå·®è·ï¼‰
- å‡†ç¡®çŽ‡ä¿æŒç¨³å®šï¼Œç¨³å®šæ€§æå‡ 24.5-41.8%

**2026-02-17 GBDT æ¨¡åž‹é‡æž„**ï¼š
- ç§»é™¤ GBDT+LR ä¸¤å±‚ç»“æž„ï¼Œæ”¹ä¸ºçº¯ GBDT
- å‡†ç¡®çŽ‡æå‡ 3.21%ï¼Œç¨³å®šæ€§æå‡ 40.6%

**2026-02-18 å›žæµ‹è¯„ä¼°åŠŸèƒ½**ï¼š
- éªŒè¯æ¨¡åž‹ç›ˆåˆ©èƒ½åŠ›
- LightGBMï¼šæ€»æ”¶ç›ŠçŽ‡ 60.58%ï¼Œå¤æ™®æ¯”çŽ‡ 1.35
- GBDTï¼šæ€»æ”¶ç›ŠçŽ‡ 135.46%ï¼Œå¤æ™®æ¯”çŽ‡ 2.06

**2026-02-18 ML é¢„æµ‹ç»“æžœå±•ç¤ºä¼˜åŒ–**ï¼š
- æ˜¾ç¤ºå…¨éƒ¨ 28 åªè‚¡ç¥¨çš„é¢„æµ‹ç»“æžœ
- æ ‡æ³¨é¢„æµ‹æ–¹å‘ï¼ˆä¸Šæ¶¨/è§‚æœ›/ä¸‹è·Œï¼‰

## æäº¤è®°å½•
- commit 592b108: feat(comprehensive): æ›´æ–°é‚®ä»¶å†…å®¹ä½¿ç”¨èžåˆæ¨¡åž‹æ•°æ®
- commit 636c066: feat(comprehensive): ä¼˜åŒ–æç¤ºè¯é€‚é…èžåˆæ¨¡åž‹
- commit 60e4b7e: feat(comprehensive): é›†æˆèžåˆæ¨¡åž‹åˆ°ç»¼åˆåˆ†æžæµç¨‹
- commit b7bd256: feat(ml): æ·»åŠ æ¨¡åž‹èžåˆåŠŸèƒ½
- commit d512893: feat(ml): æ·»åŠ CatBoostç®—æ³•æ”¯æŒ
- ï¼ˆæ›´å¤šæäº¤è®°å½•è¯¦è§åŽŸ IFLOW.mdï¼‰

---
æœ€åŽæ›´æ–°ï¼š2026-02-20ï¼ˆCatBoost ç®—æ³•é›†æˆä¸Žä¸‰æ¨¡åž‹èžåˆåŠŸèƒ½ï¼‰