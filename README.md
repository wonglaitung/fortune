# 港股主力资金追踪器

## 项目简介

港股主力资金追踪器是一个用于分析港股市场主力资金动向的工具，通过技术指标和南向资金数据来识别股票的建仓和出货信号。

## 功能特性

- 实时获取港股股票价格和交易数据
- 分析股票的技术指标（MACD、RSI、均线偏离等）
- 获取沪港通/深港通南向资金数据
- 识别主力资金建仓和出货信号
- 生成可视化图表
- 发送分析报告邮件

## 安装依赖

```bash
pip install yfinance akshare pandas matplotlib
```

## 使用方法

```bash
python hk_smart_money_tracker.py
```

## 配置说明

### 邮件配置
设置以下环境变量以启用邮件发送功能：
- `YAHOO_EMAIL`：发件人邮箱地址
- `YAHOO_APP_PASSWORD`：发件人邮箱应用密码
- `RECIPIENT_EMAIL`：收件人邮箱地址（可选，默认为wonglaitung@google.com）

### 自定义参数
在代码顶部可以调整以下参数：
- `WATCHLIST`：自选股票列表
- `DAYS_ANALYSIS`：分析窗口天数
- `VOL_WINDOW`：成交量分析窗口
- `PRICE_WINDOW`：价格分析窗口
- `BUILDUP_MIN_DAYS`：建仓信号最小确认天数
- `DISTRIBUTION_MIN_DAYS`：出货信号最小确认天数
- 阈值参数（价格百分位、量比、南向资金阈值等）

## 信号说明

### 建仓信号
当以下条件同时满足时触发：
- 股价处于相对低位（默认30%以下）
- 成交量显著放大（量比>1.5）
- 南向资金净流入超过阈值（默认5000万）
- 连续达到最小确认天数

### 出货信号
当以下条件同时满足时触发：
- 股价处于相对高位（默认70%以上）
- 成交量剧烈放大（量比>2.5）
- 南向资金净流出超过阈值（默认-5000万）
- 当日收盘价下行
- 连续达到最小确认天数

## 输出说明

程序运行后会生成：
1. 控制台输出：股票分析结果和信号提示
2. Excel报告：hk_smart_money_report.xlsx
3. 可视化图表：保存在hk_smart_charts目录下
4. 邮件报告：包含详细指标说明和分析结果

## 注意事项

- 本工具仅用于数据分析和参考，不构成投资建议
- 投资者应结合基本面分析和风险管理进行决策
- 南向资金数据可能存在延迟或不准确的情况
- 建议定期更新依赖库以获取最新数据