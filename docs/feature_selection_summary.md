# 特征选择方法汇总

## 快速对比

| 预测周期 | 统计方法准确率 | 模型重要性法 | 速度提升 | 推荐方案 |
|---------|--------------|------------|---------|---------|
| **1天** | 51.59% | 51.94% (Top 50) | +28.5% | Top 50 |
| **5天** | 56.47% | 56.47% (稳定高100) | +28.7% | 稳定高100 |
| **20天** | 61.87% | 61.87% (Top 100) | +20.1% | Top 100 |

## 最佳模型对比（全部模型）

| 模型 | 预测周期 | 准确率 | 标准差 | 推荐度 |
|------|---------|--------|--------|--------|
| **LightGBM** | 20天 | 61.87% | 3.71% | ⭐⭐⭐⭐⭐ |
| **CatBoost** | 20天 | 61.36% | 1.98% | ⭐⭐⭐⭐⭐ |
| **CatBoost** | 5天 | 63.01% | 4.45% | ⭐⭐⭐⭐ |
| **LightGBM** | 5天 | 56.47% | 2.27% | ⭐⭐⭐⭐ |
| **GBDT** | 20天 | 60.04% | 5.28% | ⭐⭐⭐ |
| **CatBoost** | 1天 | 65.62% | 5.97% | ⚠️ 过拟合 |
| **LightGBM** | 1天 | 51.59% | 2.25% | ⭐⭐⭐ |

## 批量回测结果对比（20天模型）

### 融合模型改进效果（使用新特征选择方式 vs 旧特征选择方式）

| 指标 | 旧融合模型 | 新融合模型 | 改进 |
|------|------------|------------|------|
| 平均总收益率 | 115.13% | **133.87%** | **+16.3%** |
| 平均夏普比率 | 1.00 | **1.11** | **+11%** |
| 平均最大回撤 | -23.07% | **-21.51%** | **改善1.56%** |
| 平均胜率 | 31.89% | **32.01%** | **+0.12%** |
| 最高收益率 | 374.67% | **495.68%** | **+32.3%** |
| 收益率中位数 | 75.93% | **94.06%** | **+23.9%** |

### CatBoost模型性能对比（20天模型）

| 指标 | 旧CatBoost | 新CatBoost | 改进 |
|------|------------|------------|------|
| 平均总收益率 | 238.76% | **241.23%** | **+1.0%** |
| 平均夏普比率 | 1.51 | **1.50** | **-0.7%** |
| 平均最大回撤 | -19.08% | **-19.60%** | **-2.7%** |
| 平均胜率 | 32.81% | **32.77%** | **-0.04%** |
| 收益率标准差 | 259.76% | **242.49%** | **-6.7%** |

### 融合模型 vs 单一模型性能对比（新特征选择方式）

| 模型 | 平均总收益率 | 平均夏普比率 | 平均最大回撤 | 平均胜率 |
|------|-------------|-------------|-------------|----------|
| **融合模型** | **133.87%** | **1.11** | **-21.51%** | **32.01%** |
| CatBoost | 241.23% | 1.50 | -19.60% | 32.77% |
| LightGBM | 58.42% | 0.85 | -24.33% | 31.20% |
| GBDT | 59.30% | 0.88 | -23.87% | 31.56% |

## 方法对比结论

| 维度 | 统计方法 | 模型重要性法 | 胜出者 |
|------|---------|------------|--------|
| 准确率 | 56.64% (平均) | 56.76% (平均) | 模型重要性法 |
| 速度 | N/A | +20-32% | 模型重要性法 |
| 稳定性 | 未考虑 | 考虑CV指标 | 模型重要性法 |
| 实用性 | 需验证 | 直接可用 | 模型重要性法 |

## 最终推荐

**推荐使用：模型重要性法 + 融合模型**

### 最新配置推荐
```bash
# 使用模型重要性法选择500个特征的融合模型（加权平均）
python3 ml_services/batch_backtest.py \
  --model-type ensemble \
  --horizon 20 \
  --use-feature-selection \
  --fusion-method weighted \
  --confidence-threshold 0.55

# 20天预测 - 使用 Top 500 特征（融合模型）
# 预期平均收益率: 133.87%
# 预期平均夏普比率: 1.11
```

### 优化效果
- ✅ 融合模型平均收益率提升 **16.3%** (115.13% → 133.87%)
- ✅ 融合模型夏普比率提升 **11%** (1.00 → 1.11)
- ✅ 融合模型风险控制改善 (回撤从-23.07% → -21.51%)
- ✅ CatBoost模型稳定性提升 (收益率标准差从259.76% → 242.49%)
- ✅ 训练速度提升 20-32%
- ✅ 模型更稳定（考虑CV指标）
- ✅ 特征数量减少 97-99%

## 详细报告

完整的对比分析请查看：`docs/feature_selection_methods_comparison.md`